{"version":3,"file":"main.js","mappings":"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","sources":["webpack://sword.io/./src/TitleScene.js","webpack://sword.io/./src/HealthBar.js","webpack://sword.io/./src/GameScene.js","webpack://sword.io/./src/DeathScene.js","webpack://sword.io/./src/WonScene.js","webpack://sword.io/./src/OpenScene.js","webpack://sword.io/./src/index.js"],"sourcesContent":["class TitleScene extends Phaser.Scene {\n  constructor(callback) {\n    super()\n    this.callback = callback\n  }\n preload() {\n  document.getElementsByClassName(\"grecaptcha-badge\")[0].style.opacity = 100;\n  this.load.image('opening', '/assets/images/opening.png');\n  this.load.html(\"form\", \"/textbox.html\");\n  this.load.audio('openingsound', '/assets/sound/opening.mp3')\n  document.cookie = \"validate=madebycodergautamdonthackorelseurstupid\";\n}\n\n create() {\n  this.music = this.sound.add('openingsound', {\n    mute: false,\n    volume: 1,\n    rate: 1,\n    detune: 0,\n    seek: 0,\n    loop: true,\n    delay: 0\n});\nthis.music.play()\n\nthis.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W)\nthis.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A)\nthis.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S)\nthis.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D)\nthis.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)\n\n\n  this.background = this.add.image(0, 0, 'opening').setOrigin(0).setScrollFactor(0, 0).setScale(2);\n  this.background.displayHeight = window.innerHeight\n  this.background.displayWidth = window.innerWidth\n  this.text = this.add.text(window.innerWidth/2, 0, 'Sword.io', {\n    fontSize: '64px',\n    fill: '#000000'\n  }).setOrigin(0.5);\n  \n  this.nameBox = this.add.dom(window.innerWidth/2, window.innerHeight/1.7 ).createFromCache(\"form\");\n  this.input.keyboard.on('keydown', function (event) {\n\n    if(this.nameBox.getChildByName('name') && this.nameBox.getChildByName('name').value.length >= 16) return\n   \tif(event.key == 'a'){\n   \t\tthis.nameBox.getChildByName('name').value+=event.key;\n   \t}else if(event.key == 's'){\n   \t\tthis.nameBox.getChildByName('name').value+=event.key;\n   \t}else if(event.key == 'd'){\n   \t\tthis.nameBox.getChildByName('name').value+=event.key;\n   \t}else if(event.key == 'w'){\n   \t\tthis.nameBox.getChildByName('name').value+=event.key;\n   \t} else if(event.which == 32) {\n       this.nameBox.getChildByName('name').value+=event.key;\n     }\n}.bind(this));\n\n  this.nameBox.getChildByName(\"name\").value = window.localStorage.getItem(\"oldName\")  ?  window.localStorage.getItem(\"oldName\") : \"\"\n\n  \n  this.done = false\n\n  this.btnrect = this.add.rectangle(0, 0, 0, 0, 0x00FF00);\n  this.btntext = this.add.text(window.innerWidth / 2, window.innerHeight / 1.2, 'Play', {\n      fontSize: '48px',\n      fill: '#000000'\n  }).setOrigin(0.5);\n  this.btnrect.x = this.btntext.x - (this.btntext.width/2) - 5\n  this.btnrect.y = this.btntext.y - (this.btntext.height/2) - 5\n  this.btnrect.width = this.btntext.width + 10\n  this.btnrect.height = this.btntext.height + 10\n \n  const go = () => {\n    let name = this.nameBox.getChildByName(\"name\")\n\n  // let name ={value: \"hi\"}\n    if(!name) return\n    else if(name.value == \"\") return\n    else if(this.done) return\n    else {\n      this.done = true\n      window.localStorage.setItem(\"oldName\", name.value)\n      this.callback(name.value, this.music)\n      this.nameBox.destroy()\n\n    }\n  }\n\n  this.btnrect.setInteractive().on('pointerdown', (pointer, localX, localY, event) => {\n      go()\n  });\n  this.returnKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER);\n  this.returnKey.on(\"down\", event => {\n    go()\n  });\n\n  \n  const resize = ()=>{\n    this.game.scale.resize(window.innerWidth, window.innerHeight)\n  \n    this.nameBox.x = window.innerWidth / 2\n    this.nameBox.y = window.innerHeight / 1.8\n    this.btntext.x = window.innerWidth / 2 \n   this.btntext.y =  window.innerHeight / 1.7 + this.nameBox.height \n   //this.btntext.y =  window.innerHeight / 1.7 + 10\n    this.btnrect.width = this.btntext.width + 10 \n    this.btnrect.height = this.btntext.height + 10\n    this.btnrect.x = this.btntext.x - (this.btntext.width/2) - 5\n    this.btnrect.y = this.btntext.y - (this.btntext.height/2) - 5\n    this.btnrect.width = this.btntext.width + 10\n    this.btnrect.height = this.btntext.height + 10\n    this.background.displayWidth = window.innerWidth\n    this.background.displayHeight = window.innerHeight\n    this.text.x = window.innerWidth / 2\n    this.text.y = window.innerHeight / 3\n\n  }\n        \n    window.addEventListener(\"resize\", resize, false);\n\n    resize()\n    \n}\n\n update() {\n  this.text.setFontSize( window.innerWidth / 10)\n    if(this.text.y < window.innerHeight/3) this.text.y += 10\n\n\n\n}\n}\n\nexport default TitleScene;","class HealthBar {\n\n    constructor (game, x, y, width, height)\n    {\n\n        this.bar = new Phaser.GameObjects.Graphics(game).setDepth(99);\n  \n        this.x = x;\n        this.y = y;\n\n        this.maxValue = 100;\n        this.value = 100;\n        \n        this.height = height\n        this.width = width\n  \n        game.add.existing(this.bar);\n    }\n  \n    setHealth (amount)\n    {\n  \n        const clamp = (num, min, max) => Math.min(Math.max(num, min), max);\n        this.value = clamp(amount, 0, this.maxValue)\n  \n        this.draw();\n  \n        return (this.value === 0);\n    }\n  \n    draw ()\n    {\n        this.bar.clear();\n  \n        //  BG\n        this.bar.fillStyle(0x000000);\n        this.bar.fillRect(this.x, this.y, this.width, this.height);\n  \n        //  Health\n  \n        this.bar.fillStyle(0xffffff);\n        this.bar.fillRect(this.x + 2, this.y + 2, this.width-4, this.height-4);\n  \n        if (this.value < 30)\n        {\n            this.bar.fillStyle(0xff0000);\n        }\n        else\n        {\n            this.bar.fillStyle(0x00ff00);\n        }\n\n        var d = Math.floor((this.width-4) * (this.value/this.maxValue));\n  \n        this.bar.fillRect(this.x + 2, this.y + 2, d, this.height-4);\n    }\n  \n    destroy ()\n    {\n      this.bar.destroy()\n    }\n  \n  }\n  \n\n  export default HealthBar","import HealthBar from './HealthBar.js'\nclass GameScene extends Phaser.Scene {\n    constructor(callback) {\n        super()\n        this.callback = callback\n    }\n\n    preload() {    \n                \n        document.getElementsByClassName(\"grecaptcha-badge\")[0].style.opacity = 0;\n    \n        this.load.image(\"player\", \"/assets/images/player.png\");\n        this.load.image(\"sword\", \"/assets/images/sword.png\");\n        this.load.image('background', '/assets/images/background.jpeg');\n        this.load.image('coin', '/assets/images/coin.png');\n\n        this.load.audio('coin', '/assets/sound/coin.m4a');\n        this.load.audio('damage', '/assets/sound/damage.mp3');\n        this.load.audio('hit', '/assets/sound/hitenemy.wav');\n        this.load.audio('winSound', '/assets/sound/win.m4a');\n        this.load.audio('loseSound', '/assets/sound/lost.mp3');\n\n       \n\n        this.socket = io()\n        this.ready = false;\n    }\n\n    died(data) {\n        this.loseSound.play()\n        this.children.list.forEach((b) => {\n            b.destroy();\n        })\n        this.dead = true\n        data = Object.assign(data, {name: this.myObj.name, kills: this.myObj.kills, coins: this.myObj.coins})\n        this.callback({win:false, data: data})\n    }\n    win(data) {\n        this.winSound.play()\nthis.dead = true  \ndata = Object.assign(data, {name: this.myObj.name, kills: this.myObj.kills, coins: this.myObj.coins})\nthis.callback({win: true, data:data})\n    }\n\n    create() {\n        this.mobile = false;\n        ((a)=>{if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) this.mobile = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  \n        //recaptcha\n\n        grecaptcha.ready(() =>{\n            grecaptcha.execute('6LdVxgYdAAAAAPtvjrXLAzSd2ANyzIkiSqk_yFpt', {action: 'join'}).then((thetoken) => {\n\n            this.readyt = true\n        this.openingBgm.stop()\n        var config =  {\n            mute: false,\n            volume: 1,\n            rate: 1,\n            detune: 0,\n            seek: 0,\n            loop: false,\n            delay: 0\n        }\n    \n\n        this.coin = this.sound.add('coin', config)\n        this.damage = this.sound.add('damage', config)\n        this.hit = this.sound.add('hit', config)\n        this.winSound = this.sound.add('winSound', config)\n        this.loseSound = this.sound.add('loseSound', config)\n        \n        this.canvas = {\n            width: window.innerWidth,\n            height: window.innerHeight\n        }\n\n        this.tps = 0\n        //background\n        this.background = this.add.tileSprite(-2500, -2500, 5000, 5000, 'background').setOrigin(0).setDepth(2);\n        this.void = this.add.rectangle(-5000, -5000, 10000, 10000, 0x006400).setOrigin(0).setDepth(1);\n        this.background.fixedToCamera = true;\n\n        //player \n        \n        this.meSword = this.add.image(400, 100, \"sword\").setScale(0.25).setDepth(50)\n        this.mePlayer = this.add.image(400, 100, \"player\").setScale(0.25).setDepth(51)\n        this.swordAnim = {go: false, added: 0}\n        this.goTo = {\n            x: undefined,\n            y: undefined\n        }\n        this.myObj = undefined\n\n        //killcounter\n        this.killCount = this.add.text(window.innerWidth / 1.5, 0, 'Kills: 0', {\n            fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif'\n        }).setFontSize(40).setDepth(101);\n        this.killCount.scrollFactorX = 0\n        this.killCount.scrollFactorY = 0\n\n        //player+fpscounter\n        try { \n        this.playerCount = this.add.text(this.cameras.main.worldView.x*this.cameras.main.zoom, this.cameras.main.worldView.y*this.cameras.main.zoom, 'Players: 0' + \"\\nFPS: 0\", {\n            fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif'\n        }).setFontSize(20).setDepth(101);\n        this.playerCount.scrollFactorX = 0\n        this.playerCount.scrollFactorY = 0\n\n        //leaderboard\n        this.leaderboard = this.add.text(window.innerWidth, this.cameras.main.worldView.y*this.cameras.main.zoom, 'Players: 0' + \"\\nFPS: 0\", {\n            fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif'\n        }).setFontSize(20).setDepth(101);\n        this.playerCount.scrollFactorX = 0\n        this.playerCount.scrollFactorY = 0\n    } catch(e) {\n        console.log(e)\n    }\n        //minimap\n        this.miniGraphics = this.add.graphics().setDepth(100)\n        this.miniGraphics.x = window.innerWidth - 205\n        this.miniGraphics.y = window.innerHeight - 205\n        this.miniGraphics.lineStyle(5, 0xffff00, 1)\n        this.miniGraphics.strokeRoundedRect(0, 0, 192,  192, 0)\n        this.cameras.main.ignore(this.miniGraphics)\n        \n        this.miniMap = {square:  this.miniGraphics, people: []}\n\n        //\n        //joystick\n        if(this.mobile) {\n        this.joyStick = this.plugins\n        .get(\"rexvirtualjoystickplugin\")\n        .add(this, {\n          x: 150,\n          y: window.innerHeight - 150,\n          radius: 100,\n          base: this.add.circle(0, 0, 100, 0x888888),\n          thumb: this.add.circle(0, 0, 50, 0xcccccc)\n          // dir: '8dir',   // 'up&down'|0|'left&right'|1|'4dir'|2|'8dir'|3\n          // forceMin: 16,\n          // enable: true\n        })\n    }\n      \n        //bar\n        this.meBar = new HealthBar(this, 0, 0, 16, 80)\n\n        //coins array\n        this.coins = []\n       // this.lastMove = Date.now()\n\n        //enemies array\n        this.enemies = []\n        this.dead = false\n        //arrow keys\n        this.cursors = this.input.keyboard.createCursorKeys();\n\n        //camera follow\n        this.cameras.main.setZoom(1)\n        \n        \n        this.UICam = this.cameras.add(this.cameras.main.x, this.cameras.main.y, window.innerWidth, window.innerHeight);\n        this.cameras.main.ignore([ this.killCount, this.playerCount, this.leaderboard ]);\n        this.UICam.ignore([this.mePlayer, this.meBar.bar, this.meSword, this.background, this.void])\n        this.cameras.main.startFollow(this.mePlayer);\n\n\n        \n        ///resize dynamicly\n        const resize = () => {\n            try {\n            this.canvas = {\n                width: window.innerWidth,\n                height: window.innerHeight\n            }\n            this.game.scale.resize(this.canvas.width, this.canvas.height)\n            if(this.mobile) this.joyStick.y = window.innerHeight - 150\n            this.UICam.x = this.cameras.main.x\n            this.UICam.y = this.cameras.main.y\n\n            this.miniGraphics.x = window.innerWidth - 205\n            this.miniGraphics.y = window.innerHeight - 205\n            \n            \n        } catch(e) {\n            console.log(e)\n        }\n        }\n\n         window.addEventListener(\"resize\", resize, true);\n        //go packet\n        this.socket.emit(\"go\", this.name, thetoken)\n\n        //mouse down\n\n        this.input.on('pointerdown', function (pointer) {\n            if(this.mobile && this.joyStick.pointer && this.joyStick.pointer.id == pointer.id) return\n            if (!this.mouseDown) {\n                this.mouseDown = true\n                this.socket.emit(\"mouseDown\", true)\n\n            }\n        }, this);\n        this.input.on('pointerup', function (pointer) {\n            \n            if(this.mobile && this.joyStick.pointer && this.joyStick.pointer.id == pointer.id) return\n            if (this.mouseDown) {\n                this.mouseDown = false\n                this.socket.emit(\"mouseDown\", false)\n            }\n        }, this);\n        if(this.mobile) {\n            this.gamePoint = {x: 0, y: 0}\n        this.input.on('pointermove', (pointer) => {\n            if(this.joyStick.pointer && this.joyStick.pointer.id == pointer.id) return\n            this.gamePoint = {x: pointer.x, y: pointer.y}\n        })\n    }\n        this.socket.on(\"tps\", (tps) => {\n            this.tps = tps\n        })\n        this.socket.on(\"ban\", (data) => {\n            document.write(data)\n        })\n\n        //boundary\n        this.graphics = this.add.graphics().setDepth(4)\n\n        this.graphics.lineStyle(10, 0xffff00, 1)\n\n        this.graphics.strokeRoundedRect(-2500, -2500, 5000, 5000, 0);\n        //server -> client\n        const addPlayer = (player) => {\n           if (this.enemies.filter(e => e.id === player.id).length > 0) return\n  /* vendors contains the element we're looking for */\n\n            var enemy = {\n                id: player.id,\n                down: false,\n                toMove: {\n                    x: undefined,\n                    y: undefined\n                },\n                playerObj: undefined,\n                sword: this.add.image(player.pos.x, player.pos.y, \"sword\").setScale(0.25).setDepth(49),\n                player: this.add.image(player.pos.x, player.pos.y, \"player\").setScale(0.25).setDepth(49),\n                bar: new HealthBar(this, player.pos.x, player.pos.y + 55),\n                nameTag: this.add.text(player.pos.x, player.pos.y - 90, player.name, {\n                    fontFamily: 'serif',\n                    fill: '#000000',\n                    fontSize: '25px'\n                }).setDepth(100),\n                swordAnim: {go: false, added: 0},\n                toAngle: 0\n            }\n         \n                var factor = (100/(player.scale*100))*1.5\n       \n            enemy.sword.angle = Math.atan2(player.mousePos.y - ((player.mousePos.viewport.height) / 2), player.mousePos.x - ((player.mousePos.viewport.width) / 2)) * 180 / Math.PI + 45;\n            \n            \n            enemy.sword.x = enemy.player.x + enemy.player.width / factor * Math.cos(enemy.sword.angle * Math.PI / 180)\n            enemy.sword.y = enemy.player.y + enemy.player.width / factor * Math.sin(enemy.sword.angle * Math.PI / 180)\n\n          \n            this.UICam.ignore([enemy.player, enemy.bar.bar, enemy.sword, enemy.nameTag])\n            this.enemies.push(enemy)\n\n            var circle = this.add.circle(0, 0, 10, 0xFF0000)\n            this.cameras.main.ignore(circle)\n            circle.setDepth(98)\n             this.miniMap.people.push(\n                 {\n                     id: player.id,\n                     circle: circle\n                 }\n             )\n\n        }\n\n        const removePlayer = (id) => {\n            try {\n                var enemy = this.enemies.find(enemyPlayer => enemyPlayer.id == id)\n\n                enemy.player.destroy()\n                enemy.sword.destroy()\n                enemy.bar.destroy()\n                enemy.nameTag.destroy()\n\n                this.enemies.splice(this.enemies.findIndex(enemy => enemy.id == id), 1)\n\n                var miniMapPlayer = this.miniMap.people.find(x => x.id === id)\n                miniMapPlayer.circle.destroy()\n                this.miniMap.people = this.miniMap.people.filter(p => p.id != id)\n\n            } catch (e) {\n                console.log(e)\n            }\n        }\n\n        this.socket.on(\"players\", (players) => {\n            players.forEach(player => addPlayer(player))\n\n            this.ready = true\n          \n            if(!this.ready) {\n                this.ready = true\n          \n            }\n        })\n        this.socket.on(\"new\", (player) => {\n            addPlayer(player)\n            if(!this.ready) {\n            this.ready = true\n           \n            }\n        })\n        this.socket.on(\"me\", (player) => {\n            if (!this.myObj) {\n                this.mePlayer.x = player.pos.x\n                this.mePlayer.y = player.pos.y\n            } else {\n                this.goTo.x = player.pos.x\n                this.goTo.y = player.pos.y\n            }\n            this.mePlayer.setScale(player.scale)\n            this.meBar.maxValue = player.maxHealth\n            this.meBar.setHealth(player.health)\n           // if(this.myObj) console.log( this.cameras.main.zoom+\" -> \"+this.myObj.coins+\" -> \"+player.scale)\n            if(!(this.cameras.main.zoom <= 0.15)) {\n            if(player.scale < 0.75) this.cameras.main.setZoom(1.25-player.scale)\n            if(player.scale >= 3) this.cameras.main.setZoom(0.56-((player.scale-1)/8))\n            else if(player.scale >= 1) this.cameras.main.setZoom(0.56-((player.scale-1)/8))\n            \n            else if(player.scale >= 0.75) this.cameras.main.setZoom(0.56-((player.scale-0.75)/3))\n\n            }\n            this.meSword.setScale(player.scale)\n\n            //this.meLine.setTo(0, 0, 250, 250)\n            this.killCount.setText(\"Kills: \" + player.kills+\"\\nCoins: \"+player.coins)\n            this.myObj = player\n\n            //minimap\n            if(!this.miniMap.people.find(x => x.id === player.id)) {\n                var circle = this.add.circle(0, 0, 10, 0xFFFFFF)\n                this.cameras.main.ignore(circle)\n                circle.setDepth(99)\n                 this.miniMap.people.push(\n                     {\n                         id: player.id,\n                         circle: circle\n                     }\n                 )\n            }\n\n            var miniMapPlayer = this.miniMap.people.find(x => x.id === player.id)\n            \n            miniMapPlayer.circle.x = (this.miniMap.square.x + ((player.pos.x / 2500) * 96))+96\n            miniMapPlayer.circle.y = (this.miniMap.square.y+ ((player.pos.y / 2500) * 96)) + 96\n            miniMapPlayer.circle.radius = 20*player.scale\n        })\n        this.socket.on(\"player\", (player) => {\n            //update player\n            if (!this.ready) return\n            try {\n               \n                var enemy = this.enemies.find(enemyPlayer => enemyPlayer.id == player.id)\n                if(!enemy)  console.log(player)\n                enemy.playerObj = player\n                enemy.bar.maxValue = player.maxHealth\n                enemy.bar.setHealth(player.health);\n\n                //update pos\n                enemy.toMove.x = player.pos.x\n                enemy.toMove.y = player.pos.y\n\n                //update sword\n                var mousePos = player.mousePos\n                enemy.toAngle = Math.atan2(mousePos.y - ((mousePos.viewport.height) / 2), mousePos.x - ((mousePos.viewport.width) / 2)) * 180 / Math.PI + 45;\n\n                enemy.player.setScale(player.scale)\n                enemy.sword.setScale(player.scale)\n                enemy.down = player.mouseDown\n\n                //minimap\n                var miniMapPlayer = this.miniMap.people.find(x => x.id === player.id)\n            \n                miniMapPlayer.circle.x = (this.miniMap.square.x + ((player.pos.x / 2500) * 96))+96\n                miniMapPlayer.circle.y = (this.miniMap.square.y+ ((player.pos.y / 2500) * 96)) + 96\n                miniMapPlayer.circle.radius = 20 * player.scale\n\n            } catch (e) {\n                console.log(e)\n            }\n        })\n        this.socket.on(\"playerLeave\", removePlayer)\n        this.socket.on(\"playerDied\", removePlayer)\n\n        this.socket.on(\"dealHit\", (playerId) => {\n            this.hit.play()\n        })\n        this.socket.on(\"takeHit\", (playerId) => {\n            this.damage.play()\n        })\n\n        //coins\n\n        const addCoin = coin => {\n          if(this.dead) return\n            this.coins.push(\n                {\n                    id: coin.id,\n                    item: this.add.image(coin.pos.x, coin.pos.y, 'coin').setScale(coin.size/100).setDepth(20),\n                    state: {collected: false, collectedBy: undefined, time: 0}\n                }\n                )\n\n                this.UICam.ignore(this.coins[this.coins.length - 1].item)\n        }\n\n        this.socket.on(\"coins\", (coinsArr) => {\n           \n            coinsArr.forEach((coin) => {\n                if(this.coins.filter(e => e.id == coin.id).length == 0) {\n                    addCoin(coin)\n                }\n            })\n\n           var remove = this.coins.filter(e=>coinsArr.filter(b => (e.id == b.id) && (!e.state.collected)).length == 0)\n           remove.forEach((coin) => {\n               \n               coin.item.destroy()\n           })\n           this.coins = this.coins.filter(e=>coinsArr.filter(b => (e.id == b.id) && (!e.state.collected)).length == 1)\n        })\n\n        this.socket.on(\"coin\", (coin) => {      \n            if(Array.isArray(coin)) {\n                coin.forEach((x) => {\n                    addCoin(x)\n                })\n            } else {      \n            addCoin(coin)\n            }\n        })\n\n        this.socket.on(\"youDied\", (data) => {\n            this.died(data)\n        })\n        this.socket.on(\"youWon\", (data) => {\n            this.win(data)\n        })\n        this.socket.on(\"collected\", (coinId, playerId) => {\n            if(this.myObj && this.myObj.id == playerId) this.coin.play() \n            if(this.coins.find(coin => coin.id == coinId)) this.coins.find(coin => coin.id == coinId).state = {collected: true, collectedBy: playerId, time: 0}\n        })\n\n    })\n    })\n    }\n\n    update() {\n        if(!this.readyt) return\n       \n        var controller = {\n            left: false,\n            up: false,\n            right: false,\n            down: false\n        }\n\n\n        var wKey = this.input.keyboard.addKey('W');\n        var aKey = this.input.keyboard.addKey('A');\n        var sKey = this.input.keyboard.addKey('S');\n        var dKey = this.input.keyboard.addKey('D');\n        try {\n        this.key = this.mobile ?  this.joyStick.createCursorKeys() : this.cursors\n        if (this.key.up.isDown || wKey.isDown ) {\n            controller.up = true\n\n        }\n        if (this.key.down.isDown || sKey.isDown ) {\n            controller.down = true\n\n        }\n        if (this.key.right.isDown || dKey.isDown) {\n            controller.right = true\n\n        }\n        if (this.key.left.isDown || aKey.isDown) {\n            controller.left = true\n\n        }\n    \n        this.socket.emit(\"move\", controller)\n        } catch(e) {\n            console.log(e)\n        }\n       // this.lastMove = Date.now()\n        //sword \n\n               \n\n        var old = this.meSword.angle\n        //if (this.mouseDown) old += 30\nif(!this.mobile) {\n        var mousePos = this.input\n} else {\n\n    var mousePos = this.gamePoint\n}\nthis.meSword.angle = Math.atan2(mousePos.y - (this.canvas.height / 2), mousePos.x - (this.canvas.width / 2)) * 180 / Math.PI + 45;\n         //sword animation\n        if (this.mouseDown) this.swordAnim.go = true\n        else this.swordAnim.go = false\n        \n        \n        if(this.swordAnim.go) {\n\n            if(this.swordAnim.added < 50) this.swordAnim.added += 10\n            this.meSword.angle -= this.swordAnim.added\n        } else if(this.swordAnim.added >0) {\n             this.swordAnim.added -= 10\n            this.meSword.angle -= this.swordAnim.added\n        }\n        \n        \n        var mousePos2 = {\n            viewport: {\n                width: this.canvas.width,\n                height: this.canvas.height\n            },\n            x: mousePos.x,\n            y: mousePos.y\n        }\n        if (this.meSword.angle != old) this.socket.emit(\"mousePos\", mousePos2)\n\n        var fps = this.sys.game.loop.actualFps\n   \n        //var difference = function (a, b) { return Math.abs(a - b); }\n            function lerp (start, end, amt){\n  return (1-amt)*start+amt*end\n}\nconst clamp = (num, min, max) => Math.min(Math.max(num, min), max);\nfunction repeat(t, m) {\n  return clamp(t - Math.floor(t / m) * m, 0, m);\n}\n\nfunction lerpTheta(a, b, t) {\n  const dt = repeat(b - a, 360);\n  return lerp(a, a + (dt > 180 ? dt - 360 : dt), t);\n}\n        this.enemies.forEach(enemy => {\n          if(enemy.playerObj) {\n            var speed = enemy.playerObj.speed / fps\n          } else {\n            var speed = 300 / fps\n          }\n           // if (enemy.player.x != enemy.toMove.x && enemy.player.y !=enemy.toMove.y) speed = speed *0.707\n    /*        no lerp\n            if (enemy.player.x < enemy.toMove.x) enemy.player.x += speed\n            if (enemy.player.x > enemy.toMove.x) enemy.player.x -= speed\n            if (enemy.player.y < enemy.toMove.y) enemy.player.y += speed\n            if (enemy.player.y > enemy.toMove.y) enemy.player.y -= speed\n            */\n            //yes lerp\n\nif(enemy.toMove.x ) {\n        enemy.player.x = lerp(enemy.player.x, enemy.toMove.x,fps/500)\nenemy.player.y = lerp(enemy.player.y, enemy.toMove.y, fps/500)\n}\n\n\n          // if(difference(enemy.player.x, enemy.toMove.x) < speed) enemy.player.x = enemy.toMove.x\n          // if(difference(enemy.player.y, enemy.toMove.y) < speed) enemy.player.y = enemy.toMove.y\n        if(enemy.playerObj) var scale = enemy.playerObj.scale\n        else var scale = 0.25\n          enemy.bar.width = (enemy.player.height*scale / 0.9375)\n          enemy.bar.height = (enemy.player.height*scale*0.150)\n          enemy.bar.x = enemy.player.x  - enemy.bar.width / 2\n          enemy.bar.y = enemy.player.y - (enemy.player.height*scale/1.2)\n\n            enemy.bar.draw()\n            try {\n            enemy.nameTag.setFontSize(100*scale)\n            enemy.nameTag.x = enemy.player.x  - enemy.nameTag.width / 2\n            enemy.nameTag.y = enemy.player.y - (enemy.player.height*scale) - enemy.nameTag.height\n            } catch(e) {\n                console.log(e)\n            }\n          if(enemy.playerObj) {\n            var factor = (100/(enemy.playerObj.scale*100))*1.5\n          } else {\n              var factor = 6\n          }         enemy.sword.angle = lerpTheta(enemy.sword.angle, enemy.toAngle, 0.5)\n\n                         if (enemy.down) {\n                             enemy.swordAnim.go = true\n                            if(!enemy.swordAnim.added) enemy.swordAnim.added = 0\n                        } else enemy.swordAnim.go = false\n\n                if(enemy.swordAnim.go && enemy.swordAnim.added < 50) {\n                    enemy.swordAnim.added += 10\n                }\n\n                if(!enemy.swordAnim.go  && enemy.swordAnim.added > 0) {\n                    enemy.swordAnim.added -= 10\n\n                }\n                enemy.sword.angle -= enemy.swordAnim.added\n               \n\n            enemy.sword.x = enemy.player.x + enemy.player.width / factor * Math.cos(enemy.sword.angle * Math.PI / 180)\n            enemy.sword.y = enemy.player.y + enemy.player.width / factor * Math.sin(enemy.sword.angle * Math.PI / 180)\n\n\n                \n        })\n \n    /*    if(this.myObj) {\n            var speed = this.myObj.speed / fps\n        } else {\n            var speed = 700 /fps\n        }\n        \n   \n         //console.log(speed)\n     \n        if (this.goTo.x != this.mePlayer.x && this.goTo.y != this.mePlayer.y) speed = speed *0.707\n //without lerp\n        if (this.goTo.x < this.mePlayer.x) this.mePlayer.x -= speed\n        if (this.goTo.x > this.mePlayer.x) this.mePlayer.x += speed\n        if (this.goTo.y < this.mePlayer.y) this.mePlayer.y -= speed\n        if (this.goTo.y > this.mePlayer.y) this.mePlayer.y += speed\n        */\n        //with lerp\n\nif(this.goTo.x ) {\n    \n        this.mePlayer.x = lerp(this.mePlayer.x, this.goTo.x, fps/500)\nthis.mePlayer.y = lerp(this.mePlayer.y, this.goTo.y,fps/500)\n}\n//console.log(this.mePlayer.x, this.mePlayer.y)\n      //  if(difference(this.goTo.x, this.mePlayer.x) < 10) this.mePlayer.x = this.goTo.x\n      //  if(difference(this.goTo.y, this.mePlayer.y) < 10) this.mePlayer.y = this.goTo.y\n      var myObj = this.myObj\n  \n        if(!myObj) myObj = {scale: 0.25}\n\n        this.meBar.width = (this.mePlayer.height*myObj.scale / 0.9375)\n        this.meBar.height = (this.mePlayer.height*myObj.scale*0.200)\n        this.meBar.x = this.mePlayer.x  - this.meBar.width / 2\n        this.meBar.y = this.mePlayer.y - (this.mePlayer.height*myObj.scale/1.2)\n        this.meBar.draw()\n        if(this.myObj) { \n        var factor1 = (100/(this.myObj.scale*100))*1.5\n        } else {\n            var factor1 = 6\n        }\n        this.meSword.x = this.mePlayer.x + this.mePlayer.width / factor1 * Math.cos(this.meSword.angle * Math.PI / 180)\n        this.meSword.y = this.mePlayer.y + this.mePlayer.width / factor1 * Math.sin(this.meSword.angle * Math.PI / 180)\n\n\n        \n\n        //leaderboard\n        if(!this.myObj) return\n        \n        var enemies = this.enemies.filter(a=>a.hasOwnProperty(\"playerObj\"))\n        enemies.push({playerObj: this.myObj})\n       try {\n        var sorted = enemies.sort((a,b) => a.playerObj.coins - b.playerObj.coins).reverse().slice(0,10)\n        var text = \"\"\n        sorted.forEach((entry, i) => {\n            if(!entry.playerObj) return\n            var playerObj = entry.playerObj\n            text += `#${i+1}: ${playerObj.name}- ${playerObj.coins}\\n`\n        })\n        this.leaderboard.setText(text)\n        this.leaderboard.x = window.innerWidth - this.leaderboard.width\n        this.killCount.x = (window.innerWidth*0.9) - this.leaderboard.width - this.killCount.width \n\n    } catch(e) {\n        //we shall try next frame\n    }\n        //playercount\n        try {\n        this.playerCount.setText('Players: ' + (Object.keys(this.enemies).length + 1).toString() + \"\\nFPS: \" + Math.round(this.sys.game.loop.actualFps) + \"\\nTick Speed: \" + Math.round((this.tps / 30) * 100) + \"%\")\n        this.playerCount.x = 0\n        this.playerCount.y = 0\n        } catch(e) {\n            console.log(e)\n        }\n        if(!this.myObj) return\n        const distance = (x1, y1, x2, y2) => Math.hypot(x2 - x1, y2 - y1); \n        this.coins.forEach((coin) => {\n            if(coin.state.collected) {\n                if(coin.state.collectedBy == this.myObj.id) {\n                    var x = this.mePlayer.x\n                    var y = this.mePlayer.y\n                } else {\n                  try {\n                    var player = this.enemies.find(el => el.id == coin.state.collectedBy)\n                    var x = player.player.x\n                    var y = player.player.y\n                  } catch(e) {\n                    console.log(e)\n                    return\n                  }\n                }\n                    coin.item.x = lerp(coin.item.x, x, ((6 - (Math.log2(fps) - Math.log2(1.875))) / 10)*2)\n                    coin.item.y = lerp(coin.item.y, y,(6 - (Math.log2(fps) - Math.log2(1.875))) / 10)\n                    coin.state.time += 1\n                    if(distance(coin.item.x, coin.item.y, x, y) < this.mePlayer.width * this.mePlayer.scale / 3 || coin.state.time > 7) {\n                        coin.item.destroy()\n                        this.coins = this.coins.filter((el) => el.id != coin.id)\n                    }\n                \n            }\n        })\n\n        //background movement\n      //  this.background.setTilePosition(this.cameras.main.scrollX, this.cameras.main.scrollY);\n\n        if (this.ready && !this.dead && !this.socket.connected) {\n            document.write(\"<h1>You got disconnected</h1><br><button onclick=\\\"location.reload()\\\"><h1>Refresh</h1></button>\")\n            this.dead = true\n        }\n    }\n}\n\nexport default GameScene;","function msToTime(duration) {\n    var milliseconds = parseInt((duration % 1000) / 100),\n      seconds = Math.floor((duration / 1000) % 60),\n      minutes = Math.floor((duration / (1000 * 60)) % 60),\n      hours = Math.floor((duration / (1000 * 60 * 60)) % 24);\n  \n  \n    return (hours == \"00\"?\"\": hours+\"h \") + (minutes == \"00\"?\"\": minutes+\"m \") + seconds+\"s\";\n  }\n\nclass DeathScene extends Phaser.Scene {\n    constructor(callback) {\n        super()\n        this.callback = callback\n    }\n    preload() {\n    }\n\n    create() {\n\n        this.background = this.add.rectangle(0, 0, window.innerWidth, window.innerHeight, 0x90ee90).setOrigin(0).setScrollFactor(0, 0).setScale(2);\n        this.text = this.add.text(window.innerWidth / 2, 0, 'You died', {\n            fontSize: '64px',\n            fill: '#000000'\n        }).setOrigin(0.5);\n\n        this.displayTime = 0;\n        this.displayKills = 0;\n        console.log(this.data.timeSurvived)\n        this.timeUpdateDelay = 5000 / this.data.timeSurvived\n        this.lastUpdateTime = Date.now() \n\n        this.displayKills = (this.data.kills == 1 ? 1 : 0);\n        this.displayCoins = 0\n\n        this.stats = this.add.text(window.innerWidth / 2, window.innerHeight / 2, 'Killed by: '+this.data.killedBy+`\\nSurvived Time: 0s\\nKills: ${this.displayKills}`, {\n            fontSize: '48px',\n            fill: '#000000'\n        }).setOrigin(0.5);\n\n\n        this.btnrect = this.add.rectangle(0, 0, 0, 0, 0x6666ff);\n        this.btntext = this.add.text(window.innerWidth / 2, window.innerHeight / 1.2, 'Play Again', {\n            fontSize: '48px',\n            fill: '#000000'\n        }).setOrigin(0.5);\n        this.btnrect.x = this.btntext.x - (this.btntext.width/2) - 5\n        this.btnrect.y = this.btntext.y - (this.btntext.height/2) - 5\n        this.btnrect.width = this.btntext.width + 10\n        this.btnrect.height = this.btntext.height + 10\n        //this.stats.y -= this.stats.height\n        this.btnrect.setInteractive().on('pointerdown', (pointer, localX, localY, event) => {\n            this.scene.start('title')\n        });\n        this.returnKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER);\n\n        this.returnKey.on(\"down\", event => {\n            this.scene.start('title')\n        });\n    }\n\n    update() {\n        this.text.setFontSize(window.innerWidth / 10)\n        this.stats.setFontSize(window.innerWidth / 20)\n        this.btntext.setFontSize(window.innerWidth / 25)\n        if (this.text.y < window.innerHeight / 4.5) this.text.y += 10\n\n        if(this.displayKills < this.data.kills ) {\n            this.displayKills += 1\n            this.lastUpdateKills = Date.now()\n        }\n\n        if(this.displayTime < this.data.timeSurvived) {\n            this.displayTime += 1000\n            \n        }\n        if(this.displayCoins < this.data.coins) {\n            this.displayCoins += 1\n            \n        }\n\n\n        this.stats.setText(`Killed by: ${this.data.killedBy}\\nSurvived Time: ${msToTime(this.displayTime)}\\nCoins: ${this.displayCoins}\\nKills: ${this.displayKills}`)\n        const resize = () => {\n            this.game.scale.resize(window.innerWidth, window.innerHeight)\n            this.background.width = window.innerWidth\n            this.background.height = window.innerHeight\n            this.text.x = window.innerWidth / 2\n            this.text.y = window.innerHeight / 4.5\n            this.stats.x = window.innerWidth / 2\n            this.stats.y = window.innerHeight / 2\n            \n            this.btntext.x = window.innerWidth / 2\n            this.btntext.y = window.innerHeight / 1.2\n\n\n            //this.stats.y -= this.stats.height\n        }\n        this.btnrect.x = this.btntext.x - (this.btntext.width/2) - 5\n        this.btnrect.y = this.btntext.y - (this.btntext.height/2) - 5\n        this.btnrect.width = this.btntext.width + 10\n        this.btnrect.height = this.btntext.height + 10\n        window.addEventListener(\"resize\", resize, false);\n\n    }\n}\n\nexport default DeathScene;","function msToTime(duration) {\n    var milliseconds = parseInt((duration % 1000) / 100),\n      seconds = Math.floor((duration / 1000) % 60),\n      minutes = Math.floor((duration / (1000 * 60)) % 60),\n      hours = Math.floor((duration / (1000 * 60 * 60)) % 24);\n  \n  \n    return (hours == \"00\"?\"\": hours+\"h \") + (minutes == \"00\"?\"\": minutes+\"m \") + seconds+\"s\";\n  }\n\nclass WonScene extends Phaser.Scene {\n    constructor(callback) {\n        super()\n        this.callback = callback\n    }\n    preload() {\n    }\n\n    create() {\n\n        this.background = this.add.rectangle(0, 0, window.innerHeight, window.innerWidth, 0x90ee90).setOrigin(0).setScrollFactor(0, 0).setScale(2);\n        this.text = this.add.text(window.innerWidth / 2, 0, 'You won!', {\n            fontSize: '64px',\n            fill: '#000000'\n        }).setOrigin(0.5);\n\n        this.displayTime = 0;\n        this.displayKills = 0;\n\n        this.timeUpdateDelay = 5000 / this.data.timeSurvived\n        this.lastUpdateTime = Date.now() \n\n        this.displayKills = (this.data.kills == 1 ? 1 : 0);\n        this.displayCoins = 0\n\n        this.stats = this.add.text(window.innerWidth / 2, window.innerHeight / 2, `You conquered the map and became Ka-HUGE!\\nTime Taken: 0s\\nKills: ${this.displayKills}`, {\n            fontSize: '48px',\n            fill: '#000000'\n        }).setOrigin(0.5);\n\n\n        this.btnrect = this.add.rectangle(0, 0, 0, 0, 0x6666ff);\n        this.btntext = this.add.text(window.innerWidth / 2, window.innerHeight / 1.2, 'Play Again', {\n            fontSize: '48px',\n            fill: '#000000'\n        }).setOrigin(0.5);\n        this.btnrect.x = this.btntext.x - (this.btntext.width/2) - 5\n        this.btnrect.y = this.btntext.y - (this.btntext.height/2) - 5\n        this.btnrect.width = this.btntext.width + 10\n        this.btnrect.height = this.btntext.height + 10\n        //this.stats.y -= this.stats.height\n        this.btnrect.setInteractive().on('pointerdown', (pointer, localX, localY, event) => {\n            this.scene.start('title')\n        });\n        this.returnKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER);\n\n        this.returnKey.on(\"down\", event => {\n            this.scene.start('title')\n        });\n    }\n\n    update() {\n        this.text.setFontSize(window.innerWidth / 10)\n        this.stats.setFontSize(window.innerWidth / 30)\n        this.btntext.setFontSize(window.innerWidth / 25)\n        if (this.text.y < window.innerHeight / 4) this.text.y += 10\n\n        if(this.displayKills < this.data.kills ) {\n            this.displayKills += 1\n            this.lastUpdateKills = Date.now()\n        }\n\n        if(this.displayTime < this.data.timeSurvived) {\n            this.displayTime += 1000\n            \n        }\n        if(this.displayCoins < this.data.coins) {\n            this.displayCoins += 1000\n            \n        }\n\n        this.stats.setText(`You conquered the map and became Ka-HUGE!\\nTime Taken: ${msToTime(this.displayTime)}\\nCoins: ${this.displayCoins}\\nKills: ${this.displayKills}`)\n        const resize = () => {\n            this.game.scale.resize(window.innerWidth, window.innerHeight)\n            this.background.width = window.innerWidth\n            this.background.height = window.innerHeight\n            this.text.x = window.innerWidth / 2\n            this.text.y = window.innerHeight / 4\n            this.stats.x = window.innerWidth / 2\n            this.stats.y = window.innerHeight / 2\n            \n            this.btntext.x = window.innerWidth / 2\n            this.btntext.y = window.innerHeight / 1.2\n\n\n            //this.stats.y -= this.stats.height\n        }\n        this.btnrect.x = this.btntext.x - (this.btntext.width/2) - 5\n        this.btnrect.y = this.btntext.y - (this.btntext.height/2) - 5\n        this.btnrect.width = this.btntext.width + 10\n        this.btnrect.height = this.btntext.height + 10\n        window.addEventListener(\"resize\", resize, false);\n\n    }\n}\n\nexport default WonScene;","function msToTime(duration) {\n    var milliseconds = parseInt((duration % 1000) / 100),\n      seconds = Math.floor((duration / 1000) % 60),\n      minutes = Math.floor((duration / (1000 * 60)) % 60),\n      hours = Math.floor((duration / (1000 * 60 * 60)) % 24);\n  \n  \n    return (hours == \"00\"?\"\": hours+\"h \") + (minutes == \"00\"?\"\": minutes+\"m \") + seconds+\"s\";\n  }\n\nclass OpenScene extends Phaser.Scene {\n    constructor(callback) {\n        super()\n        this.callback = callback\n    }\n    preload() {\n        this.load.plugin(\"rexvirtualjoystickplugin\",    \"https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexvirtualjoystickplugin.min.js\", true);\n    }\n\n    create() {\n        this.go = false\n        this.background = this.add.rectangle(0, 0, window.innerWidth, window.innerHeight, 0x000000).setOrigin(0).setScrollFactor(0, 0).setScale(2);\n        this.text = this.add.text(window.innerWidth / 2, window.innerHeight / 2, 'Click to join the game..', {\n            fontSize: '64px',\n            fill: '#FFFFFF'\n        }).setOrigin(0.5);\n        this.text.setAlpha(0)\n        ///resize dynamicly\n        const resize = () => {\n            try {\n            this.game.scale.resize(window.innerWidth, window.innerHeight)\n            this.background.height = window.innerHeight\n            this.background.width = window.innerWidth\n            \n            \n        } catch(e) {\n            console.log(e)\n        }\n        }\n        window.addEventListener(\"resize\", resize, true)\n        this.input.on(\"pointerdown\", event => {\n            this.go = true\n        });\n    }\n\n    update() {\n        this.text.x = (window.innerWidth / 2)\n        this.text.y = (window.innerHeight / 2)\n        this.text.setFontSize(window.innerWidth * 128 / 1920)\n        if(!this.go) {\n        if(this.text.alpha < 1) this.text.setAlpha(this.text.alpha + 0.01)\n        } else {\n            if(this.text.alpha > 0 )this.text.setAlpha(this.text.alpha - 0.05)\n            else this.scene.start('title')\n        }\n    }\n}\n\nexport default OpenScene;","import TitleScene from './TitleScene.js';\nimport GameScene from './GameScene.js';\nimport DeathScene from './DeathScene.js';\nimport WonScene from './WonScene.js';\nimport OpenScene from './OpenScene.js';\n\n\n\n\nvar config = {\n    type: Phaser.AUTO,\n    width: window.innerWidth,\n    height: window.innerHeight,\n    parent: \"game\",\n    dom: {\n        createContainer: true\n    },\n    scale: {\n        mode:Phaser.Scale.RESIZE,\n    }\n};\n\nvar game = new Phaser.Game(config);\n\nvar deathScene = new DeathScene()\nvar winScene = new WonScene()\n\nvar gameScene = new GameScene((data) => {\n    if(data.win) {\n        winScene.data = data.data\n        gameScene.scene.start('win')\n    } else {\n    deathScene.data = data.data\n    gameScene.scene.start('death')\n    }\n})\n\nvar titleScene = new TitleScene((name, music) => {\n    gameScene.name = name\n    gameScene.openingBgm = music\n    titleScene.scene.start('game')\n})\nvar openScene = new OpenScene()\ngame.scene.add('title', titleScene)\ngame.scene.add('game', gameScene)\ngame.scene.add('death', deathScene)\ngame.scene.add('win', winScene)\ngame.scene.add('open', openScene)\n\ngame.scene.start('open')\n\n//for debugging on the school chromebooks they fricking banned dev console\nwindow.onerror = function(msg, url, line) {\n    document.write(\"Error : \" + msg + \"<br><br>\");\n    document.write(\"Line number : \" + line + \"<br><br>\");\n    document.write(\"File : \" + url);\n}"],"names":["TitleScene","Phaser","Scene","constructor","callback","super","this","preload","document","getElementsByClassName","style","opacity","load","image","html","audio","cookie","create","music","sound","add","mute","volume","rate","detune","seek","loop","delay","play","input","keyboard","addKey","Input","Keyboard","KeyCodes","W","A","S","D","SPACE","background","setOrigin","setScrollFactor","setScale","displayHeight","window","innerHeight","displayWidth","innerWidth","text","fontSize","fill","nameBox","dom","createFromCache","on","event","getChildByName","value","length","key","which","bind","localStorage","getItem","done","btnrect","rectangle","btntext","x","width","y","height","go","name","setItem","destroy","setInteractive","pointer","localX","localY","returnKey","ENTER","resize","game","scale","addEventListener","update","setFontSize","bar","GameObjects","Graphics","setDepth","maxValue","existing","setHealth","amount","num","max","Math","min","draw","clear","fillStyle","fillRect","d","floor","GameScene","socket","io","ready","died","data","loseSound","children","list","forEach","b","dead","Object","assign","myObj","kills","coins","win","winSound","mobile","a","test","substr","navigator","userAgent","vendor","opera","grecaptcha","execute","action","then","thetoken","readyt","openingBgm","stop","config","coin","damage","hit","canvas","tps","tileSprite","void","fixedToCamera","meSword","mePlayer","swordAnim","added","goTo","undefined","killCount","fontFamily","scrollFactorX","scrollFactorY","playerCount","cameras","main","worldView","zoom","leaderboard","e","console","log","miniGraphics","graphics","lineStyle","strokeRoundedRect","ignore","miniMap","square","people","joyStick","plugins","get","radius","base","circle","thumb","meBar","enemies","cursors","createCursorKeys","setZoom","UICam","startFollow","emit","id","mouseDown","gamePoint","write","addPlayer","player","filter","enemy","down","toMove","playerObj","sword","pos","nameTag","toAngle","factor","angle","atan2","mousePos","viewport","PI","cos","sin","push","removePlayer","find","enemyPlayer","splice","findIndex","p","players","maxHealth","health","setText","miniMapPlayer","playerId","addCoin","item","size","state","collected","collectedBy","time","coinsArr","Array","isArray","coinId","controller","left","up","right","wKey","aKey","sKey","dKey","isDown","old","mousePos2","fps","sys","actualFps","speed","lerp","t","dt","m","repeat","lerpTheta","factor1","hasOwnProperty","sorted","sort","reverse","slice","entry","i","keys","toString","round","el","log2","x1","y1","x2","y2","hypot","connected","start","end","amt","DeathScene","displayTime","displayKills","timeSurvived","timeUpdateDelay","lastUpdateTime","Date","now","displayCoins","stats","killedBy","scene","lastUpdateKills","duration","parseInt","seconds","minutes","hours","msToTime","WonScene","OpenScene","plugin","setAlpha","alpha","type","AUTO","parent","createContainer","mode","Scale","RESIZE","Game","deathScene","winScene","gameScene","titleScene","openScene","onerror","msg","url","line"],"sourceRoot":""}
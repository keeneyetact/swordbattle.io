{"version":3,"file":"main.js","mappings":"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","sources":["webpack://sword.io/./src/TitleScene.js","webpack://sword.io/./src/HealthBar.js","webpack://sword.io/./src/GameScene.js","webpack://sword.io/./src/DeathScene.js","webpack://sword.io/./src/WonScene.js","webpack://sword.io/./src/OpenScene.js","webpack://sword.io/./src/index.js"],"sourcesContent":["class TitleScene extends Phaser.Scene {\n  constructor(callback) {\n    super()\n    this.callback = callback\n  }\n preload() {\n\n  document.getElementsByClassName(\"grecaptcha-badge\")[0].style.opacity = 100\n  this.load.image(\"opening\", \"/assets/images/opening.png\")\n  this.load.html(\"title\", \"/title.html\")\n  this.load.html(\"promo\", \"/promo.html\")\n  this.load.audio(\"openingsound\", \"/assets/sound/opening.mp3\")\n\n // document.cookie = \"validate=madebycodergautamdonthackorelseurstupid\";\n}\n\n create() {\n   this.redirect = false\n  var access = true\n  try {\n    window.localStorage\n  } catch(e) {\n    access = false\n  }\ntry {\n  this.music = this.sound.add(\"openingsound\", {\n    mute: false,\n    volume: 1,\n    rate: 1,\n    detune: 0,\n    seek: 0,\n    loop: true,\n    delay: 0\n})\nthis.music.play()\n} catch(e) {\n\nreturn\n\n}\n\nthis.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W)\nthis.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A)\nthis.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S)\nthis.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D)\nthis.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)\n\n\n  this.background = this.add.image(0, 0, \"opening\").setOrigin(0).setScrollFactor(0, 0).setScale(2)\n  this.background.displayHeight = document.documentElement.clientHeight\n  this.background.displayWidth =document.documentElement.clientWidth\n  if(this.showPromo) {\n            this.mobile = false;\n        ((a)=>{if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) this.mobile = true})(navigator.userAgent||navigator.vendor||window.opera)\n        if(this.mobile) this.showPromo = false\n  }\n  this.nameBox = this.add.dom(document.documentElement.clientWidth/2, document.documentElement.clientHeight/1.7 ).createFromCache(\"title\")\n     if(this.showPromo) {\n\n       this.promo = this.add.dom(0, 0).createFromCache(\"promo\")\n\n       this.promo.x = (document.documentElement.clientWidth / 2)\n       this.promo.y =  (document.documentElement.clientHeight / 2)\n     \n       this.promo.getChildByName(\"close\").onclick = () => {\n         this.promo.destroy()\n       }\n \n     }\n\n  this.input.keyboard.on(\"keydown\", function (event) {\n\n    if(this.nameBox.getChildByName(\"name\") && (this.nameBox.getChildByName(\"name\").value.length >= 16 ||this.nameBox.getChildByName(\"name\")  !== document.activeElement)) return\n   \tif(event.key == \"a\"){\n   \t\tthis.nameBox.getChildByName(\"name\").value+=event.key\n   \t}else if(event.key == \"s\"){\n   \t\tthis.nameBox.getChildByName(\"name\").value+=event.key\n   \t}else if(event.key == \"d\"){\n   \t\tthis.nameBox.getChildByName(\"name\").value+=event.key\n   \t}else if(event.key == \"w\"){\n   \t\tthis.nameBox.getChildByName(\"name\").value+=event.key\n   \t} else if(event.which == 32) {\n       this.nameBox.getChildByName(\"name\").value+=event.key\n     }\n}.bind(this))\n  if(access) this.nameBox.getChildByName(\"name\").value = window.localStorage.getItem(\"oldName\")  ?  window.localStorage.getItem(\"oldName\") : \"\"\n  else this.nameBox.getChildByName(\"name\").value = \"\"\n\n  \n  this.done = false\n  this.text = this.add.text(document.documentElement.clientWidth/2, 0, \"Swordbattle.io\", {\n    fontSize: \"64px\",\n    fill: \"#000000\"\n  }).setOrigin(0.5)\n  const go = () => {\n    let name = this.nameBox.getChildByName(\"name\")\n\n  // let name ={value: \"hi\"}\n    if(!name) return\n    else if(name.value == \"\") return\n    else if(this.done) return\n    else {\n      this.done = true\n      if(access) window.localStorage.setItem(\"oldName\", name.value)\n      this.callback(name.value, this.music)\n      this.nameBox.destroy()\n\n    }\n  }\n\n  this.nameBox.getChildByName(\"btn\").onclick = () => {\n    if(this.promo && this.promo.visible) {\n    } else go()\n  }\n  this.returnKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER)\n  this.returnKey.on(\"down\", event => {\n   if(this.promo && this.promo.visible) {\n     this.promo.destroy()\n   } else go()\n  })\n\n  \n  const resize = ()=>{\n    \n    this.game.scale.resize(document.documentElement.clientWidth, document.documentElement.clientHeight)\n    this.background.displayHeight = document.documentElement.clientHeight\n    this.background.displayWidth =document.documentElement.clientWidth\n    this.nameBox.x = document.documentElement.clientWidth / 2\n    this.nameBox.y = document.documentElement.clientHeight / 2\n    this.text.x = document.documentElement.clientWidth / 2\n    if(this.text.y != 0) this.text.y = document.documentElement.clientHeight / 3\n  }\n        \n    window.addEventListener(\"resize\", resize, false)\n\nresize()\n    \n}\n\n update(d) {\n  function lerp (start, end, amt){\n    return (1-amt)*start+amt*end\n  }\n   try {\n  this.text.setFontSize( document.documentElement.clientWidth / 10)\n  if(this.text.y < document.documentElement.clientHeight/3) this.text.y = lerp(this.text.y, document.documentElement.clientHeight/3, 0.1)\n   } catch(e) {\n\n\nif(this.redirect) return\nthis.redirect = true\nalert(\"Your administrator has blocked swordbattle.io\\nDon't worry, You are being redirected to a proxy server to attempt to bypass this.\")\n  window.location.replace(\"https://sword-io-game.herokuapp.com/\")\n\n  }\n}\n}\n\nexport default TitleScene","class HealthBar {\n\n    constructor (game, x, y, width, height, custom=false)\n    {\n\n        this.custom = custom\n        this.bar = new Phaser.GameObjects.Graphics(game).setDepth(99)\n  \n        this.x = x\n        this.y = y\n\n        this.maxValue = 100\n        this.value = 0\n        this.toLerp = 0\n        this.height = height\n        this.width = width\n  \n        game.add.existing(this.bar)\n    }\n  \n    setHealth (amount)\n    {\n  \n        const clamp = (num, min, max) => Math.min(Math.max(num, min), max)\n        this.value = clamp(amount, 0, this.maxValue)\n  \n        this.draw()\n  \n        return (this.value === 0)\n    }\n    setLerpValue(value) {\n        this.toLerp = value\n    }\n    draw ()\n    {\n        this.bar.clear()\n  \n        //  BG\n        this.bar.fillStyle(0x000000)\n        this.bar.fillRect(this.x, this.y, this.width, this.height)\n  \n        //  Health\n  \n        this.bar.fillStyle(0xffffff)\n        this.bar.fillRect(this.x + 2, this.y + 2, this.width-4, this.height-4)\n  \n        if(!this.custom) {\n        if (this.value/this.maxValue < 0.30)\n        {\n            this.bar.fillStyle(0xff0000)\n        }\n        else if(this.value/this.maxValue  < 0.5) {\n           this.bar.fillStyle(0xFFFF00) \n        } else\n        {\n            this.bar.fillStyle(0x00ff00)\n        }\n    } else {\n\n        this.bar.fillStyle(0x00FFFF)\n    }\n\n        var d = Math.floor((this.width-4) * (this.value/this.maxValue))\n  \n        this.bar.fillRect(this.x + 2, this.y + 2, d, this.height-4)\n    }\n\n    update() {\n        const lerp = (start,end,amt) => (1-amt)*start+amt*end\n\n        this.setHealth(lerp(this.value, this.toLerp, 0.25))\n       \n    }\n  \n    destroy ()\n    {\n      this.bar.destroy()\n    }\n  \n  }\n  \n\n  export default HealthBar","import HealthBar from \"./HealthBar.js\"\n\nclass GameScene extends Phaser.Scene {\n\tconstructor(callback) {\n\t\tsuper()\n\t\tthis.callback = callback\n\t}\n\n\tpreload() {    \n\t\ttry {       \n\t\t\tdocument.getElementsByClassName(\"grecaptcha-badge\")[0].style.opacity = 0\n\t\t} catch(e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t\tthis.ready = false\n\t\tthis.loadrect = this.add.rectangle(0,0, document.documentElement.clientWidth*2, document.documentElement.clientHeight*2, 0x006400).setDepth(200)\n\t}\n\n\tdied(data) {\n\t\tthis.loseSound.play()\n\t\tthis.children.list.forEach((b) => {\n\t\t\tb.destroy()\n\t\t})\n\t\tthis.dead = true\n\t\tdata = Object.assign(data, {name: this.myObj.name, kills: this.myObj.kills, coins: this.myObj.coins})\n\t\tthis.callback({win:false, data: data})\n\t}\n\twin(data) {\n\t\tthis.winSound.play()\n\t\tthis.dead = true  \n\t\tdata = Object.assign(data, {name: this.myObj.name, kills: this.myObj.kills, coins: this.levels[this.levels.length-1].coins})\n\t\tthis.callback({win: true, data:data})\n\t}\n\n\tcreate() {\n        this.levels = []\n\t\tthis.mobile = false;\n\t\t((a)=>{if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) this.mobile = true})(navigator.userAgent||navigator.vendor||window.opera)\n  \n\t\t//recaptcha\n\n\t\tgrecaptcha.ready(() =>{\n\t\t\tgrecaptcha.execute(\"6LdVxgYdAAAAAPtvjrXLAzSd2ANyzIkiSqk_yFpt\", {action: \"join\"}).then((thetoken) => {\n\n\t\t\t\tthis.readyt = true\n\t\t\t\tthis.openingBgm.stop()\n\t\t\t\tvar config =  {\n\t\t\t\t\tmute: false,\n\t\t\t\t\tvolume: 1,\n\t\t\t\t\trate: 1,\n\t\t\t\t\tdetune: 0,\n\t\t\t\t\tseek: 0,\n\t\t\t\t\tloop: false,\n\t\t\t\t\tdelay: 0\n\t\t\t\t}\n    \n\n\t\t\t\tthis.coin = this.sound.add(\"coin\", config)\n\t\t\t\tthis.damage = this.sound.add(\"damage\", config)\n\t\t\t\tthis.hit = this.sound.add(\"hit\", config)\n\t\t\t\tthis.winSound = this.sound.add(\"winSound\", config)\n\t\t\t\tthis.loseSound = this.sound.add(\"loseSound\", config)\n    \n\t\t\t\tthis.tps = 0\n\t\t\t\t//background\n\t\t\t\tthis.background = this.add.tileSprite(0, 0, document.documentElement.clientWidth, document.documentElement.clientHeight, \"background\").setOrigin(0).setDepth(2)\n\t\t\t\tthis.background.fixedToCamera = true\n\n\t\t\t\t//player \n        \n\t\t\t\tthis.meSword = this.add.image(400, 100, \"sword\").setScale(0.25).setDepth(50)\n\t\t\t\tthis.mePlayer = this.add.image(400, 100, \"player\").setScale(0.25).setDepth(51)\n\t\t\t\tthis.swordAnim = {go: false, added: 0}\n\t\t\t\tthis.goTo = {\n\t\t\t\t\tx: undefined,\n\t\t\t\t\ty: undefined\n\t\t\t\t}\n\t\t\t\tthis.myObj = undefined\n\n\t\t\t\t//killcounter\n\t\t\t\tthis.killCount = this.add.text(document.documentElement.clientWidth / 1.5, 0, \"Kills: 0\", {\n\t\t\t\t\tfontFamily: \"Georgia, \\\"Goudy Bookletter 1911\\\", Times, serif\"\n\t\t\t\t}).setFontSize(40).setDepth(101)\n\t\t\t\tthis.killCount.scrollFactorX = 0\n\t\t\t\tthis.killCount.scrollFactorY = 0\n\n\t\t\t\t//player+fpscounter\n\t\t\t\ttry { \n\t\t\t\t\tthis.playerCount = this.add.text(this.cameras.main.worldView.x*this.cameras.main.zoom, this.cameras.main.worldView.y*this.cameras.main.zoom, \"Players: 0\" + \"\\nFPS: 0\", {\n\t\t\t\t\t\tfontFamily: \"Georgia, \\\"Goudy Bookletter 1911\\\", Times, serif\"\n\t\t\t\t\t}).setFontSize(20).setDepth(101)\n\t\t\t\t\tthis.playerCount.scrollFactorX = 0\n\t\t\t\t\tthis.playerCount.scrollFactorY = 0\n\n\t\t\t\t\t//leaderboard\n\t\t\t\t\tthis.leaderboard = this.add.text(document.documentElement.clientWidth, this.cameras.main.worldView.y*this.cameras.main.zoom, \"Players: 0\" + \"\\nFPS: 0\", {\n\t\t\t\t\t\tfontFamily: \"Georgia, \\\"Goudy Bookletter 1911\\\", Times, serif\"\n\t\t\t\t\t}).setFontSize(20).setDepth(101)\n\t\t\t\t\tthis.playerCount.scrollFactorX = 0\n\t\t\t\t\tthis.playerCount.scrollFactorY = 0\n\t\t\t\t} catch(e) {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t}\n\t\t\t\t//minimap\n\t\t\t\tconst convert = (num, val, newNum) => (newNum * val) / num\n\t\t\t\tthis.miniMap = {people: [], scaleFactor: convert(1189, 96, document.documentElement.clientWidth), square: undefined}\n\t\t\t\tthis.miniGraphics = this.add.graphics().setDepth(100)\n        \n\t\t\t\tvar padding = 13\n\t\t\t\tthis.miniMap.scaleFactor = convert(1189, 96, document.documentElement.clientWidth)\n\t\t\t\tthis.miniGraphics.x = document.documentElement.clientWidth - ((this.miniMap.scaleFactor * 2) + padding)\n\t\t\t\tthis.miniGraphics.y = document.documentElement.clientHeight - ((this.miniMap.scaleFactor * 2) + padding)\n\t\t\t\tthis.miniGraphics.lineStyle(5, 0xffff00, 1)\n\t\t\t\tthis.miniGraphics.strokeRoundedRect(0, 0, this.miniMap.scaleFactor * 2,  this.miniMap.scaleFactor * 2, 0)\n        \n\t\t\t\tthis.cameras.main.ignore(this.miniGraphics)\n\n\t\t\t\t//\n\t\t\t\t//joystick\n\t\t\t\tif(this.mobile) {\n\t\t\t\t\tthis.joyStick = this.plugins\n\t\t\t\t\t\t.get(\"rexvirtualjoystickplugin\")\n\t\t\t\t\t\t.add(this, {\n\t\t\t\t\t\t\tx: 150,\n\t\t\t\t\t\t\ty: document.documentElement.clientHeight - 150,\n\t\t\t\t\t\t\tradius: 100,\n\t\t\t\t\t\t\tbase: this.add.circle(0, 0, 100, 0x888888),\n\t\t\t\t\t\t\tthumb: this.add.circle(0, 0, 50, 0xcccccc)\n\t\t\t\t\t\t\t// dir: '8dir',   // 'up&down'|0|'left&right'|1|'4dir'|2|'8dir'|3\n\t\t\t\t\t\t\t// forceMin: 16,\n\t\t\t\t\t\t\t// enable: true\n\t\t\t\t\t\t})\n\t\t\t\t}\n      \n\t\t\t\t//bar\n\t\t\t\tthis.meBar = new HealthBar(this, 0, 0, 16, 80)\n\n\t\t\t\t//levelbar\n\t\t\t\tthis.lvlBar = new HealthBar(this, 0, 0, 0, 0, true)\n\t\t\t\tvar padding = (document.documentElement.clientWidth / 2)\n\t\t\t\tthis.lvlBar.x = padding / 2\n        \n\t\t\t\tthis.lvlBar.width = document.documentElement.clientWidth- padding\n\t\t\t\tthis.lvlBar.height = document.documentElement.clientHeight / 30\n\t\t\t\tthis.lvlBar.y = document.documentElement.clientHeight - this.lvlBar.height - (document.documentElement.clientHeight / 40)\n\t\t\t\tthis.lvlBar.draw()\n\n\t\t\t\t//coins array\n\t\t\t\tthis.coins = []\n\t\t\t\t// this.lastMove = Date.now()\n\n\t\t\t\t//enemies array\n\t\t\t\tthis.enemies = []\n\t\t\t\tthis.dead = false\n\t\t\t\t//arrow keys\n\t\t\t\tthis.cursors = this.input.keyboard.createCursorKeys()\n\n\t\t\t\t//camera follow\n\t\t\t\tthis.cameras.main.setZoom(1)\n        \n        \n\t\t\t\tthis.UICam = this.cameras.add(this.cameras.main.x, this.cameras.main.y, document.documentElement.clientWidth, document.documentElement.clientHeight)\n\t\t\t\tthis.cameras.main.ignore([ this.killCount, this.playerCount, this.leaderboard,this.lvlBar.bar ])\n\t\t\t\tthis.UICam.ignore([this.mePlayer, this.meBar.bar, this.meSword, this.background])\n\t\t\t\tthis.cameras.main.startFollow(this.mePlayer)\n\n\n\t\t\t\tthis.input.addPointer(3)\n\t\t\t\t///resize dynamicly\n\t\t\t\tconst resize = () => {\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tthis.game.scale.resize( document.documentElement.clientWidth,  document.documentElement.clientHeight)\n\t\t\t\t\t\tif(this.mobile) this.joyStick.y = document.documentElement.clientHeight - 150\n\t\t\t\t\t\tthis.UICam.x = this.cameras.main.x\n\t\t\t\t\t\tthis.UICam.y = this.cameras.main.y\n\n\t\t\t\t\t\tthis.miniGraphics.clear()\n\t\t\t\t\t\tvar padding = 13\n\t\t\t\t\t\tthis.miniMap.scaleFactor = convert(1189, 96, document.documentElement.clientWidth)\n\t\t\t\t\t\tthis.miniGraphics.x = document.documentElement.clientWidth - ((this.miniMap.scaleFactor * 2) + padding)\n\t\t\t\t\t\tthis.miniGraphics.y = document.documentElement.clientHeight - ((this.miniMap.scaleFactor * 2) + padding)\n\t\t\t\t\t\tthis.miniGraphics.lineStyle(5, 0xffff00, 1)\n\t\t\t\t\t\tthis.miniGraphics.strokeRoundedRect(0, 0, this.miniMap.scaleFactor * 2,  this.miniMap.scaleFactor * 2, 0)\n\n\n\t\t\t\t\t\tthis.background.width = document.documentElement.clientWidth\n\t\t\t\t\t\tthis.background.height =  document.documentElement.clientHeight\n            \n\t\t\t\t\t\tpadding = (document.documentElement.clientWidth / 2)\n\t\t\t\t\t\tthis.lvlBar.x = padding / 2\n                \n\t\t\t\t\t\tthis.lvlBar.width = document.documentElement.clientWidth- padding\n\t\t\t\t\t\tthis.lvlBar.height = document.documentElement.clientHeight / 30\n\t\t\t\t\t\tthis.lvlBar.y = document.documentElement.clientHeight - this.lvlBar.height - (document.documentElement.clientHeight / 40)\n\t\t\t\t\t\tthis.lvlBar.draw()\n            \n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\twindow.addEventListener(\"resize\", resize, true)\n\t\t\t\t//go packet\n\t\t\t\tthis.socket = io()\n\t\t\t\tthis.socket.emit(\"go\", this.name, thetoken)\n\n\t\t\t\t//mouse down\n\n\t\t\t\tthis.input.on(\"pointerdown\", function (pointer) {\n\t\t\t\t\tif(this.mobile && this.joyStick.pointer && this.joyStick.pointer.id == pointer.id) return\n\t\t\t\t\tif (!this.mouseDown) {\n\t\t\t\t\t\tthis.gamePoint = {x: pointer.x, y: pointer.y}\n\t\t\t\t\t\tthis.mouseDown = true\n\t\t\t\t\t\tthis.socket.emit(\"mouseDown\", true)\n\n\t\t\t\t\t}\n\t\t\t\t}, this)\n\t\t\t\tthis.input.on(\"pointerup\", function (pointer) {\n            \n\t\t\t\t\tif(this.mobile && this.joyStick.pointer && this.joyStick.pointer.id == pointer.id) return\n\t\t\t\t\tif (this.mouseDown) {\n\t\t\t\t\t\tthis.gamePoint = {x: pointer.x, y: pointer.y}\n\t\t\t\t\t\tthis.mouseDown = false\n\t\t\t\t\t\tthis.socket.emit(\"mouseDown\", false)\n\t\t\t\t\t}\n\t\t\t\t}, this)\n\t\t\t\tif(this.mobile) {\n\t\t\t\t\tthis.gamePoint = {x: 0, y: 0}\n\t\t\t\t\tthis.input.on(\"pointermove\", (pointer) => {\n\t\t\t\t\t\tif(this.joyStick.pointer && this.joyStick.pointer.id == pointer.id) return\n\t\t\t\t\t\tthis.gamePoint = {x: pointer.x, y: pointer.y}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.socket.on(\"tps\", (tps) => {\n\t\t\t\t\tthis.tps = tps\n\t\t\t\t})\n\t\t\t\tthis.socket.on(\"ban\", (data) => {\n\t\t\t\t\tdocument.write(data)\n\t\t\t\t})\n\n\t\t\t\t//boundary\n\t\t\t\tthis.graphics = this.add.graphics().setDepth(4)\n\t\t\t\tvar thickness = 5000\n\t\t\t\tthis.graphics.lineStyle(thickness, 0x006400, 1)\n\n\t\t\t\tthis.graphics.strokeRoundedRect(-2500 - (thickness/ 2), -2500 - (thickness/ 2), 5000 + thickness, 5000 + thickness, 0 )\n\n\t\t\t\tthis.graphics.lineStyle(10, 0xffff00, 1)\n\n\t\t\t\tthis.graphics.strokeRoundedRect(-2500, -2500, 5000, 5000, 0)\n\n\t\t\t\t//server -> client\n\n                this.socket.on(\"levels\", (l)=>this.levels=l)\n\n\t\t\t\tconst addPlayer = (player) => {\n\t\t\t\t\tif (this.enemies.filter(e => e.id === player.id).length > 0) return\n\t\t\t\t\t/* vendors contains the element we're looking for */\n\n\t\t\t\t\tvar enemy = {\n\t\t\t\t\t\tid: player.id,\n\t\t\t\t\t\tdown: false,\n\t\t\t\t\t\ttoMove: {\n\t\t\t\t\t\t\tx: undefined,\n\t\t\t\t\t\t\ty: undefined\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplayerObj: undefined,\n\t\t\t\t\t\tlastTick: Date.now(),\n\t\t\t\t\t\tsword: this.add.image(player.pos.x, player.pos.y, player.skin+\"Sword\").setScale(0.25).setDepth(49),\n\t\t\t\t\t\tplayer: this.add.image(player.pos.x, player.pos.y, player.skin+\"Player\").setScale(0.25).setDepth(49),\n\t\t\t\t\t\tbar: new HealthBar(this, player.pos.x, player.pos.y + 55),\n\t\t\t\t\t\tnameTag: this.add.text(player.pos.x, player.pos.y - 90, player.name, {\n\t\t\t\t\t\t\tfontFamily: \"serif\",\n\t\t\t\t\t\t\tfill: \"#000000\",\n\t\t\t\t\t\t\tfontSize: \"25px\"\n\t\t\t\t\t\t}).setDepth(100),\n\t\t\t\t\t\tswordAnim: {go: false, added: 0},\n\t\t\t\t\t\ttoAngle: 0\n\t\t\t\t\t}\n         \n\t\t\t\t\tvar factor = (100/(player.scale*100))*1.5\n       \n\t\t\t\t\tenemy.sword.angle = Math.atan2(player.mousePos.y - ((player.mousePos.viewport.height) / 2), player.mousePos.x - ((player.mousePos.viewport.width) / 2)) * 180 / Math.PI + 45\n            \n            \n\t\t\t\t\tenemy.sword.x = enemy.player.x + enemy.player.width / factor * Math.cos(enemy.sword.angle * Math.PI / 180)\n\t\t\t\t\tenemy.sword.y = enemy.player.y + enemy.player.width / factor * Math.sin(enemy.sword.angle * Math.PI / 180)\n\n          \n\t\t\t\t\tthis.UICam.ignore([enemy.player, enemy.bar.bar, enemy.sword, enemy.nameTag, this.graphics])\n\t\t\t\t\tthis.enemies.push(enemy)\n\n\t\t\t\t\tvar circle = this.add.circle(0, 0, 10, 0xFF0000)\n\t\t\t\t\tthis.cameras.main.ignore(circle)\n\t\t\t\t\tcircle.setDepth(98)\n\t\t\t\t\tthis.miniMap.people.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: player.id,\n\t\t\t\t\t\t\tcircle: circle\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t}\n\t\t\t\tthis.removePlayer = (id) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar enemy = this.enemies.find(enemyPlayer => enemyPlayer.id == id)\n        \n\t\t\t\t\t\tenemy.player.destroy()\n\t\t\t\t\t\tenemy.sword.destroy()\n\t\t\t\t\t\tenemy.bar.destroy()\n\t\t\t\t\t\tenemy.nameTag.destroy()\n        \n\t\t\t\t\t\tthis.enemies.splice(this.enemies.findIndex(enemy => enemy.id == id), 1)\n        \n\t\t\t\t\t\tvar miniMapPlayer = this.miniMap.people.find(x => x.id === id)\n\t\t\t\t\t\tminiMapPlayer.circle.destroy()\n\t\t\t\t\t\tthis.miniMap.people = this.miniMap.people.filter(p => p.id != id)\n        \n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tthis.socket.on(\"players\", (players) => {\n\t\t\t\t\tplayers.forEach(player => addPlayer(player))\n\n\t\t\t\t\tthis.ready = true\n          \n\t\t\t\t\tif(!this.ready) {\n\t\t\t\t\t\tthis.ready = true\n          \n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.socket.on(\"new\", (player) => {\n\t\t\t\t\taddPlayer(player)\n\t\t\t\t\tif(!this.ready) {\n\t\t\t\t\t\tthis.ready = true\n           \n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.socket.on(\"me\", (player) => {\n\t\t\t\t\tif(this.loadrect.visible) this.loadrect.destroy()\n\n\t\t\t\t\tif(this.mePlayer.texture.key+\"Player\" != player.skin) {\n\t\t\t\t\t\tthis.mePlayer.setTexture(player.skin+\"Player\")\n\t\t\t\t\t\tthis.meSword.setTexture(player.skin+\"Sword\")\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.myObj) {\n\t\t\t\t\t\tthis.mePlayer.x = player.pos.x\n\t\t\t\t\t\tthis.mePlayer.y = player.pos.y\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.goTo.x = player.pos.x\n\t\t\t\t\t\tthis.goTo.y = player.pos.y\n\t\t\t\t\t}\n\t\t\t\t\tthis.mePlayer.setScale(player.scale)\n\t\t\t\t\tthis.meBar.maxValue = player.maxHealth\n\t\t\t\t\tthis.meBar.setHealth(player.health)\n\t\t\t\t\t// if(this.myObj) console.log( this.cameras.main.zoom+\" -> \"+this.myObj.coins+\" -> \"+player.scale)\n\t\t\t\t\tif(!(this.cameras.main.zoom <= 0.15)) {\n\t\t\t\t\t\tif(player.scale < 0.75) this.cameras.main.setZoom(1.25-player.scale)\n\t\t\t\t\t\tif(player.scale >= 3) this.cameras.main.setZoom(0.56-((player.scale-1)/8))\n\t\t\t\t\t\telse if(player.scale >= 1) this.cameras.main.setZoom(0.56-((player.scale-1)/8))\n            \n\t\t\t\t\t\telse if(player.scale >= 0.75) this.cameras.main.setZoom(0.56-((player.scale-0.75)/3))\n\n\n\n\t\t\t\t\t}\n\t\t\t\t\tthis.meSword.setScale(player.scale)\n\t\t\t\t\t//  this.background.setTileScale(1)\n\t\t\t\t\tthis.background.width = this.cameras.main.displayWidth\n\t\t\t\t\tthis.background.height = this.cameras.main.displayHeight\n\t\t\t\t\t//this.meLine.setTo(0, 0, 250, 250)\n\t\t\t\t\tthis.killCount.setText(\"Kills: \" + player.kills+\"\\nCoins: \"+player.coins)\n\t\t\t\t\tthis.myObj = player\n\n\t\t\t\t\t//minimap\n\t\t\t\t\tif(!this.miniMap.people.find(x => x.id === player.id)) {\n\t\t\t\t\t\tvar circle = this.add.circle(0, 0, 10, 0xFFFFFF)\n\t\t\t\t\t\tthis.cameras.main.ignore(circle)\n\t\t\t\t\t\tcircle.setDepth(99)\n\t\t\t\t\t\tthis.miniMap.people.push(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: player.id,\n\t\t\t\t\t\t\t\tcircle: circle\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\n\t\t\t\t\tvar miniMapPlayer = this.miniMap.people.find(x => x.id === player.id)\n            \n\t\t\t\t\tminiMapPlayer.circle.x = (this.miniGraphics.x + ((player.pos.x / 2500) * this.miniMap.scaleFactor))+this.miniMap.scaleFactor\n\t\t\t\t\tminiMapPlayer.circle.y = (this.miniGraphics.y+ ((player.pos.y / 2500) * this.miniMap.scaleFactor)) + this.miniMap.scaleFactor\n\t\t\t\t\tminiMapPlayer.circle.radius = player.scale * convert(1280, 20, document.documentElement.clientWidth)\n                    if(this.levels.length < 0) return\n                    var diff = this.levels[player.level-1].coins - this.levels[player.level-1].start\n                    var lvlcoins = player.coins - this.levels[player.level-1].start\n                    this.lvlBar.setLerpValue((lvlcoins / diff)*100)\n\t\t\t\t})\n\t\t\t\tthis.socket.on(\"player\", (player) => {\n\t\t\t\t\t//update player\n\t\t\t\t\tif (!this.ready) return\n\t\t\t\t\ttry {\n               \n\t\t\t\t\t\tvar enemy = this.enemies.find(enemyPlayer => enemyPlayer.id == player.id)\n\t\t\t\t\t\tif(!enemy) return\n\n\t\t\t\t\t\tenemy.lastTick = Date.now()\n\n\t\t\t\t\t\tenemy.playerObj = player\n\t\t\t\t\t\tenemy.bar.maxValue = player.maxHealth\n\t\t\t\t\t\tenemy.bar.setHealth(player.health)\n\n\t\t\t\t\t\t//update pos\n\t\t\t\t\t\tenemy.toMove.x = player.pos.x\n\t\t\t\t\t\tenemy.toMove.y = player.pos.y\n\n\t\t\t\t\t\t//update sword\n\t\t\t\t\t\tvar mousePos = player.mousePos\n\t\t\t\t\t\tenemy.toAngle = Math.atan2(mousePos.y - ((mousePos.viewport.height) / 2), mousePos.x - ((mousePos.viewport.width) / 2)) * 180 / Math.PI + 45\n\n\t\t\t\t\t\tenemy.player.setScale(player.scale)\n\t\t\t\t\t\tenemy.sword.setScale(player.scale)\n\t\t\t\t\t\tenemy.down = player.mouseDown\n\n\t\t\t\t\t\t//minimap\n\t\t\t\t\t\tvar miniMapPlayer = this.miniMap.people.find(x => x.id === player.id)\n            \n        \n\n\t\t\t\t\t\tminiMapPlayer.circle.x = (this.miniGraphics.x + ((player.pos.x / 2500) * this.miniMap.scaleFactor))+this.miniMap.scaleFactor\n\t\t\t\t\t\tminiMapPlayer.circle.y = (this.miniGraphics.y+ ((player.pos.y / 2500) * this.miniMap.scaleFactor)) + this.miniMap.scaleFactor\n\t\t\t\t\t\tminiMapPlayer.circle.radius = convert(1280, 20, document.documentElement.clientWidth) * player.scale\n\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.socket.on(\"playerLeave\", this.removePlayer)\n\t\t\t\tthis.socket.on(\"playerDied\", this.removePlayer)\n\n\t\t\t\tthis.socket.on(\"dealHit\", (playerId) => {\n\t\t\t\t\tthis.hit.play()\n\t\t\t\t})\n\t\t\t\tthis.socket.on(\"takeHit\", (playerId) => {\n\t\t\t\t\tthis.damage.play()\n\t\t\t\t})\n\n\t\t\t\t//coins\n\n\t\t\t\tconst addCoin = coin => {\n\t\t\t\t\tif(this.dead) return\n\t\t\t\t\tthis.coins.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: coin.id,\n\t\t\t\t\t\t\titem: this.add.image(coin.pos.x, coin.pos.y, \"coin\").setScale(coin.size/100).setDepth(20),\n\t\t\t\t\t\t\tstate: {collected: false, collectedBy: undefined, time: 0}\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t\tthis.UICam.ignore(this.coins[this.coins.length - 1].item)\n\t\t\t\t}\n\n\t\t\t\tthis.socket.on(\"coins\", (coinsArr) => {\n           \n\t\t\t\t\tcoinsArr.forEach((coin) => {\n\t\t\t\t\t\tif(this.coins.filter(e => e.id == coin.id).length == 0) {\n\t\t\t\t\t\t\taddCoin(coin)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\t\tvar remove = this.coins.filter(e=>coinsArr.filter(b => (e.id == b.id) && (!e.state.collected)).length == 0)\n\t\t\t\t\tremove.forEach((coin) => {\n               \n\t\t\t\t\t\tcoin.item.destroy()\n\t\t\t\t\t})\n\t\t\t\t\tthis.coins = this.coins.filter(e=>coinsArr.filter(b => (e.id == b.id) && (!e.state.collected)).length == 1)\n\t\t\t\t})\n\n\t\t\t\tthis.socket.on(\"coin\", (coin) => {      \n\t\t\t\t\tif(Array.isArray(coin)) {\n\t\t\t\t\t\tcoin.forEach((x) => {\n\t\t\t\t\t\t\taddCoin(x)\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {      \n\t\t\t\t\t\taddCoin(coin)\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tthis.socket.on(\"youDied\", (data) => {\n\t\t\t\t\tthis.died(data)\n\t\t\t\t})\n\t\t\t\tthis.socket.on(\"youWon\", (data) => {\n\t\t\t\t\tthis.win(data)\n\t\t\t\t})\n\t\t\t\tthis.socket.on(\"collected\", (coinId, playerId) => {\n\t\t\t\t\tif(this.myObj && this.myObj.id == playerId) this.coin.play() \n\t\t\t\t\tif(this.coins.find(coin => coin.id == coinId)) this.coins.find(coin => coin.id == coinId).state = {collected: true, collectedBy: playerId, time: 0}\n\t\t\t\t})\n\n\t\t\t})\n\t\t})\n\t}\n\n\tupdate() {\n\t\tif(!this.readyt) return\n\n        this.lvlBar.update()\n       \n\t\tvar controller = {\n\t\t\tleft: false,\n\t\t\tup: false,\n\t\t\tright: false,\n\t\t\tdown: false\n\t\t}\n\n\n\t\tvar wKey = this.input.keyboard.addKey(\"W\")\n\t\tvar aKey = this.input.keyboard.addKey(\"A\")\n\t\tvar sKey = this.input.keyboard.addKey(\"S\")\n\t\tvar dKey = this.input.keyboard.addKey(\"D\")\n\t\ttry {\n\t\t\tthis.key = this.mobile ?  this.joyStick.createCursorKeys() : this.cursors\n\t\t\tif (this.key.up.isDown || wKey.isDown ) {\n\t\t\t\tcontroller.up = true\n\n\t\t\t}\n\t\t\tif (this.key.down.isDown || sKey.isDown ) {\n\t\t\t\tcontroller.down = true\n\n\t\t\t}\n\t\t\tif (this.key.right.isDown || dKey.isDown) {\n\t\t\t\tcontroller.right = true\n\n\t\t\t}\n\t\t\tif (this.key.left.isDown || aKey.isDown) {\n\t\t\t\tcontroller.left = true\n\n\t\t\t}\n    \n\t\t\tthis.socket.emit(\"move\", controller)\n\t\t} catch(e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t\t// this.lastMove = Date.now()\n\t\t//sword \n\n               \n\t\tif(this.meSword) var old = this.meSword.angle\n\n\t\tif(!this.mobile) var mousePos = this.input\n\t\telse var mousePos = this.gamePoint\n\n\t\tthis.meSword.angle = Math.atan2(mousePos.y - ( document.documentElement.clientHeight / 2), mousePos.x - (document.documentElement.clientWidth / 2)) * 180 / Math.PI + 45\n\t\tthis.mePlayer.angle = this.meSword.angle + 45 +180\n\t\t//sword animation\n\t\tif (this.mouseDown) this.swordAnim.go = true\n\t\telse this.swordAnim.go = false\n        \n        \n\t\tif(this.swordAnim.go) {\n\n\t\t\tif(this.swordAnim.added < 50) this.swordAnim.added += 10\n\t\t\tthis.meSword.angle -= this.swordAnim.added\n\t\t} else if(this.swordAnim.added >0) {\n\t\t\tthis.swordAnim.added -= 10\n\t\t\tthis.meSword.angle -= this.swordAnim.added\n\t\t}\n        \n        \n\t\tvar mousePos2 = {\n\t\t\tviewport: {\n\t\t\t\twidth: document.documentElement.clientWidth,\n\t\t\t\theight: document.documentElement.clientHeight\n\t\t\t},\n\t\t\tx: mousePos.x,\n\t\t\ty: mousePos.y\n\t\t}\n\n\t\tif (this.socket && old && this.meSword.angle != old) this.socket.emit(\"mousePos\", mousePos2)\n\n\t\tvar fps = this.sys.game.loop.actualFps\n   \n\t\t//var difference = function (a, b) { return Math.abs(a - b); }\n\t\tfunction lerp (start, end, amt){\n\t\t\treturn (1-amt)*start+amt*end\n\t\t}\n\t\tconst clamp = (num, min, max) => Math.min(Math.max(num, min), max)\n\t\tfunction repeat(t, m) {\n\t\t\treturn clamp(t - Math.floor(t / m) * m, 0, m)\n\t\t}\n\n\t\tfunction lerpTheta(a, b, t) {\n\t\t\tconst dt = repeat(b - a, 360)\n\t\t\treturn lerp(a, a + (dt > 180 ? dt - 360 : dt), t)\n\t\t}\n\t\tthis.enemies.forEach(enemy => {\n\t\t\tif(Date.now() - enemy.lastTick > 10000) return this.removePlayer(enemy)\n\t\t\t// if (enemy.player.x != enemy.toMove.x && enemy.player.y !=enemy.toMove.y) speed = speed *0.707\n\t\t\t/*        no lerp\n            if (enemy.player.x < enemy.toMove.x) enemy.player.x += speed\n            if (enemy.player.x > enemy.toMove.x) enemy.player.x -= speed\n            if (enemy.player.y < enemy.toMove.y) enemy.player.y += speed\n            if (enemy.player.y > enemy.toMove.y) enemy.player.y -= speed\n            */\n\t\t\t//yes lerp\n\n\t\t\tif(enemy.toMove.x ) {\n\t\t\t\tenemy.player.x = lerp(enemy.player.x, enemy.toMove.x,fps/500)\n\t\t\t\tenemy.player.y = lerp(enemy.player.y, enemy.toMove.y, fps/500)\n\t\t\t}\n\n\n\t\t\t// if(difference(enemy.player.x, enemy.toMove.x) < speed) enemy.player.x = enemy.toMove.x\n\t\t\t// if(difference(enemy.player.y, enemy.toMove.y) < speed) enemy.player.y = enemy.toMove.y\n\t\t\tif(enemy.playerObj) var scale = enemy.playerObj.scale\n\t\t\telse var scale = 0.25\n\t\t\tenemy.bar.width = (enemy.player.height*scale / 0.9375)\n\t\t\tenemy.bar.height = (enemy.player.height*scale*0.150)\n\t\t\tenemy.bar.x = enemy.player.x  - enemy.bar.width / 2\n\t\t\tenemy.bar.y = enemy.player.y - (enemy.player.height*scale/1.2)\n\n\t\t\tenemy.bar.draw()\n\t\t\ttry {\n\t\t\t\tenemy.nameTag.setFontSize(100*scale)\n\t\t\t\tenemy.nameTag.x = enemy.player.x  - enemy.nameTag.width / 2\n\t\t\t\tenemy.nameTag.y = enemy.player.y - (enemy.player.height*scale) - enemy.nameTag.height\n\t\t\t} catch(e) {\n\t\t\t\tconsole.log(e)\n\t\t\t}\n\t\t\tif(enemy.playerObj) {\n\t\t\t\tvar factor = (100/(enemy.playerObj.scale*100))*1.5\n\t\t\t} else {\n\t\t\t\tvar factor = 6\n\t\t\t}         enemy.sword.angle = lerpTheta(enemy.sword.angle, enemy.toAngle, 0.5)\n\t\t\tenemy.player.angle = enemy.sword.angle + 45 + 180\n\n\t\t\tif (enemy.down) {\n\t\t\t\tenemy.swordAnim.go = true\n\t\t\t\tif(!enemy.swordAnim.added) enemy.swordAnim.added = 0\n\t\t\t} else enemy.swordAnim.go = false\n\n\t\t\tif(enemy.swordAnim.go && enemy.swordAnim.added < 50) {\n\t\t\t\tenemy.swordAnim.added += 10\n\t\t\t}\n\n\t\t\tif(!enemy.swordAnim.go  && enemy.swordAnim.added > 0) {\n\t\t\t\tenemy.swordAnim.added -= 10\n\n\t\t\t}\n\t\t\tenemy.sword.angle -= enemy.swordAnim.added\n               \n\n\t\t\tenemy.sword.x = enemy.player.x + enemy.player.width / factor * Math.cos(enemy.sword.angle * Math.PI / 180)\n\t\t\tenemy.sword.y = enemy.player.y + enemy.player.width / factor * Math.sin(enemy.sword.angle * Math.PI / 180)\n\n\n                \n\t\t})\n \n\t\t/*    if(this.myObj) {\n            var speed = this.myObj.speed / fps\n        } else {\n            var speed = 700 /fps\n        }\n        \n   \n         //console.log(speed)\n     \n        if (this.goTo.x != this.mePlayer.x && this.goTo.y != this.mePlayer.y) speed = speed *0.707\n //without lerp\n        if (this.goTo.x < this.mePlayer.x) this.mePlayer.x -= speed\n        if (this.goTo.x > this.mePlayer.x) this.mePlayer.x += speed\n        if (this.goTo.y < this.mePlayer.y) this.mePlayer.y -= speed\n        if (this.goTo.y > this.mePlayer.y) this.mePlayer.y += speed\n        */\n\t\t//with lerp\n\n\t\tif(this.goTo.x ) {\n    \n\t\t\tthis.mePlayer.x = lerp(this.mePlayer.x, this.goTo.x, fps/500)\n\t\t\tthis.mePlayer.y = lerp(this.mePlayer.y, this.goTo.y,fps/500)\n\t\t}\n\t\t//console.log(this.mePlayer.x, this.mePlayer.y)\n\t\t//  if(difference(this.goTo.x, this.mePlayer.x) < 10) this.mePlayer.x = this.goTo.x\n\t\t//  if(difference(this.goTo.y, this.mePlayer.y) < 10) this.mePlayer.y = this.goTo.y\n\t\tvar myObj = this.myObj\n  \n\t\tif(!myObj) myObj = {scale: 0.25}\n\n\t\tthis.meBar.width = (this.mePlayer.height*myObj.scale / 0.9375)\n\t\tthis.meBar.height = (this.mePlayer.height*myObj.scale*0.200)\n\t\tthis.meBar.x = this.mePlayer.x  - this.meBar.width / 2\n\t\tthis.meBar.y = this.mePlayer.y - (this.mePlayer.height*myObj.scale/1.2)\n\t\tthis.meBar.draw()\n\t\tif(this.myObj) { \n\t\t\tvar factor1 = (100/(this.myObj.scale*100))*1.5\n\t\t} else {\n\t\t\tvar factor1 = 6\n\t\t}\n\t\tthis.meSword.x = this.mePlayer.x + this.mePlayer.width / factor1 * Math.cos(this.meSword.angle * Math.PI / 180)\n\t\tthis.meSword.y = this.mePlayer.y + this.mePlayer.width / factor1 * Math.sin(this.meSword.angle * Math.PI / 180)\n\n\n        \n\n\t\t//leaderboard\n\t\tif(!this.myObj) return\n        \n\t\tvar enemies = this.enemies.filter(a=>a.hasOwnProperty(\"playerObj\") && a.playerObj)\n\n\t\tenemies.push({playerObj: this.myObj})\n\t\ttry {\n\t\t\tvar sorted = enemies.sort((a,b) => a.playerObj.coins - b.playerObj.coins).reverse().slice(0,10)\n\t\t\tvar text = \"\"\n\t\t\tsorted.forEach((entry, i) => {\n\t\t\t\tif(!entry.playerObj) return\n\t\t\t\tif(!entry.playerObj.hasOwnProperty(\"coins\")) return console.log(entry.playerObj)\n\t\t\t\tvar playerObj = entry.playerObj\n\t\t\t\ttext += `#${i+1}: ${playerObj.name}- ${playerObj.coins}\\n`\n\t\t\t})\n\n\t\t\tthis.leaderboard.setText(text)\n\t\t\tthis.leaderboard.x = document.documentElement.clientWidth - this.leaderboard.width\n\t\t\tthis.killCount.x = (document.documentElement.clientWidth*0.9) - this.leaderboard.width - this.killCount.width\n\n\t\t} catch(e) {\n\t\t\t//we shall try next frame\n\t\t\tconsole.log(e)\n\t\t}\n\t\t//playercount\n\t\ttry {\n\t\t\tthis.playerCount.setText(\"Players: \" + (Object.keys(this.enemies).length + 1).toString() + \"\\nFPS: \" + Math.round(this.sys.game.loop.actualFps) + \"\\nTick Speed: \" + Math.round((this.tps / 30) * 100) + \"%\")\n\t\t\tthis.playerCount.x = 0\n\t\t\tthis.playerCount.y = 0\n\t\t} catch(e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t\tif(!this.myObj) return\n\t\tconst distance = (x1, y1, x2, y2) => Math.hypot(x2 - x1, y2 - y1) \n\t\tthis.coins.forEach((coin) => {\n\t\t\tif(coin.state.collected) {\n\t\t\t\tif(coin.state.collectedBy == this.myObj.id) {\n\t\t\t\t\tvar x = this.mePlayer.x\n\t\t\t\t\tvar y = this.mePlayer.y\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar player = this.enemies.find(el => el.id == coin.state.collectedBy)\n                        if(player) {\n\t\t\t\t\t\tvar x = player.player.x\n\t\t\t\t\t\tvar y = player.player.y\n                        } else {\n                            coin.item.destroy()\n                            this.coins = this.coins.filter((el) => el.id != coin.id)\n                            return\n                        }\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcoin.item.x = lerp(coin.item.x, x, ((6 - (Math.log2(fps) - Math.log2(1.875))) / 10)*2)\n\t\t\t\tcoin.item.y = lerp(coin.item.y, y,(6 - (Math.log2(fps) - Math.log2(1.875))) / 10)\n\t\t\t\tcoin.state.time += 1\n\t\t\t\tif(distance(coin.item.x, coin.item.y, x, y) < this.mePlayer.width * this.mePlayer.scale / 3 || coin.state.time > 7) {\n\t\t\t\t\tcoin.item.destroy()\n\t\t\t\t\tthis.coins = this.coins.filter((el) => el.id != coin.id)\n\t\t\t\t}\n                \n\t\t\t}\n\t\t})\n\n\t\t//background movement\n\t\tthis.background.setTilePosition(this.cameras.main.scrollX, this.cameras.main.scrollY)\n\t\tthis.background.x = this.mePlayer.x - (this.cameras.main.displayWidth / 2)\n\t\tthis.background.y = this.mePlayer.y- (this.cameras.main.displayHeight/ 2)\n\t\tif (this.ready && !this.dead && !this.socket.connected) {\n\t\t\tdocument.write(\"<h1>You got disconnected</h1><br><button onclick=\\\"location.reload()\\\"><h1>Refresh</h1></button>\")\n\t\t\tthis.dead = true\n\t\t}\n\t}\n}\n\nexport default GameScene\n","function msToTime(duration) {\n    var milliseconds = parseInt((duration % 1000) / 100),\n      seconds = Math.floor((duration / 1000) % 60),\n      minutes = Math.floor((duration / (1000 * 60)) % 60),\n      hours = Math.floor((duration / (1000 * 60 * 60)) % 24)\n  \n  \n    return (hours == \"00\"?\"\": hours+\"h \") + (minutes == \"00\"?\"\": minutes+\"m \") + seconds+\"s\"\n  }\n\nclass DeathScene extends Phaser.Scene {\n    constructor(callback) {\n        super()\n        this.callback = callback\n    }\n    preload() {\n    }\n\n    create() {\n        this.lerp = function (start, end, amt){\n            return (1-amt)*start+amt*end\n          }\n        this.background = this.add.rectangle(0, 0, document.documentElement.clientWidth, document.documentElement.clientHeight, 0x90ee90).setOrigin(0).setScrollFactor(0, 0).setScale(2)\n        this.text = this.add.text(document.documentElement.clientWidth / 2, 0, \"You died\", {\n            fontSize: \"64px\",\n            fill: \"#000000\"\n        }).setOrigin(0.5)\n\n        this.displayTime = 0\n        this.displayKills = 0\n\n        this.timeUpdateDelay = 5000 / this.data.timeSurvived\n        this.lastUpdateTime = Date.now() \n\n        this.displayKills = (this.data.kills == 1 ? 1 : 0)\n        this.displayCoins = 0\n\n        this.stats = this.add.text(document.documentElement.clientWidth / 2, document.documentElement.clientHeight / 2, \"Killed by: \"+this.data.killedBy+`\\nSurvived Time: 0s\\nKills: ${this.displayKills}`, {\n            fontSize: \"48px\",\n            fill: \"#000000\"\n        }).setOrigin(0.5)\n\n\n        this.btnrect = this.add.rectangle(0, 0, 0, 0, 0x6666ff)\n        this.btntext = this.add.text(document.documentElement.clientWidth / 2, document.documentElement.clientHeight / 1.2, \"Play Again\", {\n            fontSize: \"48px\",\n            fill: \"#000000\"\n        }).setOrigin(0.5)\n        this.btnrect.x = this.btntext.x - (this.btntext.width/2) - 5\n        this.btnrect.y = this.btntext.y - (this.btntext.height/2) - 5\n        this.btnrect.width = this.btntext.width + 10\n        this.btnrect.height = this.btntext.height + 10\n        //this.stats.y -= this.stats.height\n        this.btnrect.setInteractive().on(\"pointerdown\", (pointer, localX, localY, event) => {\n            this.scene.start(\"title\")\n        })\n        this.returnKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER)\n\n        this.returnKey.on(\"down\", event => {\n            this.scene.start(\"title\")\n        })\n    }\n\n    update() {\n        this.text.setFontSize(document.documentElement.clientWidth / 10)\n        this.stats.setFontSize(document.documentElement.clientWidth / 20)\n        this.btntext.setFontSize(document.documentElement.clientWidth / 25)\n        if (this.text.y < document.documentElement.clientHeight / 4.5) this.text.y += 10\n\n        if(this.displayKills < this.data.kills ) {\n            this.displayKills += 1\n            this.lastUpdateKills = Date.now()\n        }\n\n        if(this.displayTime < this.data.timeSurvived) {\n            this.displayTime = Math.round(this.lerp(this.displayTime, this.data.timeSurvived, 0.1))\n        }\n        if(this.displayCoins < this.data.coins) {\n            this.displayCoins = Math.round(this.lerp(this.displayCoins, this.data.coins, 0.1))\n            if(this.data.coins - 4 == this.displayCoins) this.displayCoins = this.data.coins\n        }\n\n\n        this.stats.setText(`Killed by: ${this.data.killedBy}\\nSurvived Time: ${msToTime(this.displayTime)}\\nCoins: ${this.displayCoins}\\nKills: ${this.displayKills}`)\n        const resize = () => {\n            this.game.scale.resize(document.documentElement.clientWidth, document.documentElement.clientHeight)\n            this.background.width = document.documentElement.clientWidth\n            this.background.height = document.documentElement.clientHeight\n            this.text.x = document.documentElement.clientWidth / 2\n            this.text.y = document.documentElement.clientHeight / 4.5\n            this.stats.x = document.documentElement.clientWidth / 2\n            this.stats.y = document.documentElement.clientHeight / 2\n            \n            this.btntext.x = document.documentElement.clientWidth / 2\n            this.btntext.y = document.documentElement.clientHeight / 1.2\n\n\n            //this.stats.y -= this.stats.height\n        }\n        this.btnrect.x = this.btntext.x - (this.btntext.width/2) - 5\n        this.btnrect.y = this.btntext.y - (this.btntext.height/2) - 5\n        this.btnrect.width = this.btntext.width + 10\n        this.btnrect.height = this.btntext.height + 10\n        window.addEventListener(\"resize\", resize, false)\n\n    }\n}\n\nexport default DeathScene","function msToTime(duration) {\n    var milliseconds = parseInt((duration % 1000) / 100),\n      seconds = Math.floor((duration / 1000) % 60),\n      minutes = Math.floor((duration / (1000 * 60)) % 60),\n      hours = Math.floor((duration / (1000 * 60 * 60)) % 24)\n  \n  \n    return (hours == \"00\"?\"\": hours+\"h \") + (minutes == \"00\"?\"\": minutes+\"m \") + seconds+\"s\"\n  }\n\nclass WonScene extends Phaser.Scene {\n    constructor(callback) {\n        super()\n        this.callback = callback\n    }\n    preload() {\n    }\n\n    create() {\n\n        this.background = this.add.rectangle(0, 0, document.documentElement.clientHeight, document.documentElement.clientWidth, 0x90ee90).setOrigin(0).setScrollFactor(0, 0).setScale(2)\n        this.text = this.add.text(document.documentElement.clientWidth / 2, 0, \"You won!\", {\n            fontSize: \"64px\",\n            fill: \"#000000\"\n        }).setOrigin(0.5)\n\n        this.displayTime = 0\n        this.displayKills = 0\n\n        this.timeUpdateDelay = 5000 / this.data.timeSurvived\n        this.lastUpdateTime = Date.now() \n\n        this.displayKills = (this.data.kills == 1 ? 1 : 0)\n        this.displayCoins = 0\n\n        this.stats = this.add.text(document.documentElement.clientWidth / 2, document.documentElement.clientHeight / 2, `You conquered the map and became Ka-HUGE!\\nTime Taken: 0s\\nKills: ${this.displayKills}`, {\n            fontSize: \"48px\",\n            fill: \"#000000\"\n        }).setOrigin(0.5)\n\n        this.lerpVal = 0\n\n        this.btnrect = this.add.rectangle(0, 0, 0, 0, 0x6666ff)\n        this.btntext = this.add.text(document.documentElement.clientWidth / 2, document.documentElement.clientHeight / 1.2, \"Play Again\", {\n            fontSize: \"48px\",\n            fill: \"#000000\"\n        }).setOrigin(0.5)\n        this.btnrect.x = this.btntext.x - (this.btntext.width/2) - 5\n        this.btnrect.y = this.btntext.y - (this.btntext.height/2) - 5\n        this.btnrect.width = this.btntext.width + 10\n        this.btnrect.height = this.btntext.height + 10\n        //this.stats.y -= this.stats.height\n        this.btnrect.setInteractive().on(\"pointerdown\", (pointer, localX, localY, event) => {\n            this.scene.start(\"title\")\n        })\n        console.log(this.data.coins)\n        this.returnKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ENTER)\n\n        this.returnKey.on(\"down\", event => {\n            this.scene.start(\"title\")\n        })\n    }\n\n    update() {\n        this.text.setFontSize(document.documentElement.clientWidth / 10)\n        this.stats.setFontSize(document.documentElement.clientWidth / 30)\n        this.btntext.setFontSize(document.documentElement.clientWidth / 25)\n        if (this.text.y < document.documentElement.clientHeight / 4) this.text.y += 10\n\n        if(this.displayKills < this.data.kills ) {\n            this.displayKills += 1\n            this.lastUpdateKills = Date.now()\n        }\n\n        if(this.displayTime < this.data.timeSurvived) {\n            this.displayTime += 1000\n            \n        }\n        const lerp = function(start, end, t){\n            return start * (1 - t) + end * t\n        }\n       \n            this.displayCoins = Math.round(lerp(0,this.data.coins, this.lerpVal))\n            if(this.lerpVal < 1) this.lerpVal += 0.02\n            \n        \n\n        this.stats.setText(`A mighty warrior indeed..!\\nTime Taken: ${msToTime(this.displayTime)}\\nCoins: ${this.displayCoins}\\nKills: ${this.displayKills}`)\n        const resize = () => {\n            this.game.scale.resize(document.documentElement.clientWidth, document.documentElement.clientHeight)\n            this.background.width = document.documentElement.clientWidth\n            this.background.height = document.documentElement.clientHeight\n            this.text.x = document.documentElement.clientWidth / 2\n            this.text.y = document.documentElement.clientHeight / 4\n            this.stats.x = document.documentElement.clientWidth / 2\n            this.stats.y = document.documentElement.clientHeight / 2\n            \n            this.btntext.x = document.documentElement.clientWidth / 2\n            this.btntext.y = document.documentElement.clientHeight / 1.2\n\n\n            //this.stats.y -= this.stats.height\n        }\n        this.btnrect.x = this.btntext.x - (this.btntext.width/2) - 5\n        this.btnrect.y = this.btntext.y - (this.btntext.height/2) - 5\n        this.btnrect.width = this.btntext.width + 10\n        this.btnrect.height = this.btntext.height + 10\n        window.addEventListener(\"resize\", resize, false)\n\n    }\n}\n\nexport default WonScene","function msToTime(duration) {\n    var milliseconds = parseInt((duration % 1000) / 100),\n      seconds = Math.floor((duration / 1000) % 60),\n      minutes = Math.floor((duration / (1000 * 60)) % 60),\n      hours = Math.floor((duration / (1000 * 60 * 60)) % 24)\n  \n  \n    return (hours == \"00\"?\"\": hours+\"h \") + (minutes == \"00\"?\"\": minutes+\"m \") + seconds+\"s\"\n  }\n\nclass OpenScene extends Phaser.Scene {\n    constructor(callback) {\n        super()\n        this.callback = callback\n    }\n    preload() {\n        this.load.plugin(\"rexvirtualjoystickplugin\",    \"https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexvirtualjoystickplugin.min.js\", true)\n        this.load.image(\"playerPlayer\", \"/assets/images/player.png\")\n        this.load.image(\"playerSword\", \"/assets/images/sword.png\")\n        this.load.image(\"codergautamytPlayer\", \"/assets/images/codergautamytPlayer.png\")\n        this.load.image(\"codergautamytSword\", \"/assets/images/codergautamytSword.png\")\n        this.load.image(\"devilPlayer\", \"/assets/images/devilPlayer.png\")\n        this.load.image(\"devilSword\", \"/assets/images/devilSword.png\")\n        this.load.image(\"background\", \"/assets/images/background.jpeg\")\n        this.load.image(\"coin\", \"/assets/images/coin.png\")\n\n        this.load.audio(\"coin\", \"/assets/sound/coin.m4a\")\n        this.load.audio(\"damage\", \"/assets/sound/damage.mp3\")\n        this.load.audio(\"hit\", \"/assets/sound/hitenemy.wav\")\n        this.load.audio(\"winSound\", \"/assets/sound/win.m4a\")\n        this.load.audio(\"loseSound\", \"/assets/sound/lost.mp3\")\n    }\n\n    create() {\n        this.go = false\n        this.background = this.add.rectangle(0, 0, document.documentElement.clientWidth, document.documentElement.clientHeight, 0x000000).setOrigin(0).setScrollFactor(0, 0).setScale(2)\n        this.text = this.add.text(document.documentElement.clientWidth / 2, document.documentElement.clientHeight / 2, \"Click to join the game..\", {\n            fontSize: \"64px\",\n            fill: \"#FFFFFF\"\n        }).setOrigin(0.5)\n        this.text.setAlpha(0)\n        ///resize dynamicly\n        const resize = () => {\n            try {\n            this.game.scale.resize(document.documentElement.clientWidth, document.documentElement.clientHeight)\n            this.background.height = document.documentElement.clientHeight\n            this.background.width = document.documentElement.clientWidth\n            \n            \n        } catch(e) {\n            console.log(e)\n        }\n        }\n        window.addEventListener(\"resize\", resize, true)\n        this.input.on(\"pointerdown\", event => {\n            this.go = true\n        })\n    }\n\n    update() {\n        this.text.x = (document.documentElement.clientWidth / 2)\n        this.text.y = (document.documentElement.clientHeight / 2)\n        this.text.setFontSize(document.documentElement.clientWidth * 128 / 1920)\n        if(!this.go) {\n        if(this.text.alpha < 1) this.text.setAlpha(this.text.alpha + 0.01)\n        } else {\n            if(this.text.alpha > 0 )this.text.setAlpha(this.text.alpha - 0.05)\n            else this.scene.start(\"title\")\n        }\n    }\n}\n\nexport default OpenScene","import TitleScene from \"./TitleScene.js\"\nimport GameScene from \"./GameScene.js\"\nimport DeathScene from \"./DeathScene.js\"\nimport WonScene from \"./WonScene.js\"\nimport OpenScene from \"./OpenScene.js\"\n\nvar config = {\n    type: Phaser.AUTO,\n    width: document.documentElement.clientWidth,\n    height: document.documentElement.clientHeight,\n    parent: \"game\",\n    dom: {\n        createContainer: true\n    },\n    scale: {\n        mode:Phaser.Scale.RESIZE,\n    }\n}\n\nvar game = new Phaser.Game(config)\n\nvar deathScene = new DeathScene()\nvar winScene = new WonScene()\n\nvar gameScene = new GameScene((data) => {\n    if(data.win) {\n        winScene.data = data.data\n        gameScene.scene.start(\"win\")\n    } else {\n    deathScene.data = data.data\n    gameScene.scene.start(\"death\")\n    }\n})\n\nvar titleScene = new TitleScene((name, music) => {\n    gameScene.name = name\n    gameScene.openingBgm = music\n    titleScene.scene.start(\"game\")\n    titleScene.showPromo = false\n})\ntitleScene.showPromo = true\nvar openScene = new OpenScene()\ngame.scene.add(\"title\", titleScene)\ngame.scene.add(\"game\", gameScene)\ngame.scene.add(\"death\", deathScene)\ngame.scene.add(\"win\", winScene)\ngame.scene.add(\"open\", openScene)\n\ngame.scene.start(\"open\")\n\n//for debugging on the school chromebooks they fricking banned dev console\nwindow.onerror = function(msg, url, line) {\n    document.write(\"Error : \" + msg + \"<br><br>\")\n    document.write(\"Line number : \" + line + \"<br><br>\")\n    document.write(\"File : \" + url)\n}"],"names":["TitleScene","Phaser","Scene","constructor","callback","super","this","preload","document","getElementsByClassName","style","opacity","load","image","html","audio","create","redirect","access","window","localStorage","e","music","sound","add","mute","volume","rate","detune","seek","loop","delay","play","input","keyboard","addKey","Input","Keyboard","KeyCodes","W","A","S","D","SPACE","background","setOrigin","setScrollFactor","setScale","displayHeight","documentElement","clientHeight","displayWidth","clientWidth","showPromo","mobile","a","test","substr","navigator","userAgent","vendor","opera","nameBox","dom","createFromCache","promo","x","y","getChildByName","onclick","destroy","on","event","value","length","activeElement","key","which","bind","getItem","done","text","fontSize","fill","go","name","setItem","visible","returnKey","ENTER","resize","game","scale","addEventListener","update","d","setFontSize","start","end","alert","location","replace","width","height","custom","bar","GameObjects","Graphics","setDepth","maxValue","toLerp","existing","setHealth","amount","num","max","Math","min","draw","setLerpValue","clear","fillStyle","fillRect","floor","GameScene","console","log","ready","loadrect","rectangle","died","data","loseSound","children","list","forEach","b","dead","Object","assign","myObj","kills","coins","win","winSound","levels","grecaptcha","execute","action","then","thetoken","readyt","openingBgm","stop","config","coin","damage","hit","tps","tileSprite","fixedToCamera","meSword","mePlayer","swordAnim","added","goTo","undefined","killCount","fontFamily","scrollFactorX","scrollFactorY","playerCount","cameras","main","worldView","zoom","leaderboard","convert","val","newNum","miniMap","people","scaleFactor","square","miniGraphics","graphics","padding","lineStyle","strokeRoundedRect","ignore","joyStick","plugins","get","radius","base","circle","thumb","meBar","lvlBar","enemies","cursors","createCursorKeys","setZoom","UICam","startFollow","addPointer","socket","io","emit","pointer","id","mouseDown","gamePoint","write","l","addPlayer","player","filter","enemy","down","toMove","playerObj","lastTick","Date","now","sword","pos","skin","nameTag","toAngle","factor","angle","atan2","mousePos","viewport","PI","cos","sin","push","removePlayer","find","enemyPlayer","splice","findIndex","p","players","texture","setTexture","maxHealth","health","setText","miniMapPlayer","diff","level","lvlcoins","playerId","addCoin","item","size","state","collected","collectedBy","time","coinsArr","Array","isArray","coinId","controller","left","up","right","wKey","aKey","sKey","dKey","isDown","old","mousePos2","fps","sys","actualFps","lerp","t","dt","m","repeat","lerpTheta","factor1","hasOwnProperty","sorted","sort","reverse","slice","entry","i","keys","toString","round","el","log2","x1","y1","x2","y2","hypot","setTilePosition","scrollX","scrollY","connected","amt","DeathScene","displayTime","displayKills","timeUpdateDelay","timeSurvived","lastUpdateTime","displayCoins","stats","killedBy","btnrect","btntext","setInteractive","localX","localY","scene","lastUpdateKills","duration","parseInt","seconds","minutes","hours","msToTime","WonScene","lerpVal","OpenScene","plugin","setAlpha","alpha","type","AUTO","parent","createContainer","mode","Scale","RESIZE","Game","deathScene","winScene","gameScene","titleScene","openScene","onerror","msg","url","line"],"sourceRoot":""}